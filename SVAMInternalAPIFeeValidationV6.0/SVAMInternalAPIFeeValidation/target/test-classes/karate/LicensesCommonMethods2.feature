Feature: License Methods
Background:
			* url BaseURL
  		* def config = { username: '#(dbUserName)', password:'#(dbUserPassword)', url: '#(dbQuery)',driverClassName: 'com.microsoft.sqlserver.jdbc.SQLServerDriver' }
    	* def DbUtils = Java.type('utils.DbUtils')
    	* def db = new DbUtils(config)
    	* def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def date = getDate2()
		* def getYearFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat('yy');
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		   * def fundDueDateFunc =
		  """
		  function(days) {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( days));
		    return sdf.format(dayAfter);
		  } 
		  """
		  * def fundDueDate = fundDueDateFunc(7)
	    * def licFeesDate =
			"""
			  function() {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
			    var date = new java.util.Date();
			    return sdf.format(date);
			  } 
			  
			  
			"""
		* def licDate =
			"""
			  function() {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
			    var date = new java.util.Date();
			    return sdf.format(date);
			  } 
		  
		  
		"""	
         		
		* def EffDate =
			"""
			  function() {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd");
			    var date = new java.util.Date();
			    return sdf.format(date);
			  } 
		  """
		* def expectedEffDate =
			"""
			  function() {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'00:00:00");
			    var date = new java.util.Date();
			    return sdf.format(date);
			  } 
		  
		  
		"""	
#********* SignIn *********************

@GetCountyList
Scenario: County List
Given path '/internalapi/api/reference'
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json;charset=utf-8'
      And header Accept = 'text/plain'
     # * def query = {name:countyzone&onlyActives:true}
 		And params  {name:countyzone,onlyActives:true}
 		#And param onlyActives='true'
     And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def values = response.values
	* configure continueOnStepFailure = true
	 
	
@ValidateCountyNameList
Scenario Outline: Get CountyName List from CSV
	 * configure continueOnStepFailure = true
	 * def CountyID = <CountyId>
	 * def CountyName =  <County>
	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + <CountyId> + "')]")
	 * def countyZone = countyData[0].ZoneNo
	 * match countyData[0].County == CountyName
Examples:
| read('/UseCases/CSVFiles/countyList.csv') |

@GetLicensePermitList
Scenario: Get LicensePermit List
Given path '/internalapi/api/reference'
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json;charset=utf-8'
      And header Accept = 'text/plain'
     
 		And params  {name:licensepermittype,onlyActives:true}
 		
     And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def values = response.values
	  * call read('LicensesCommonMethods.feature@ValidateLicensePermitList') {}
	
@ValidateLicensePermitList
Scenario Outline: Get LicensePermit List from CSV

 And print <LicensePermitTypeId>
	 * configure continueOnStepFailure = true
	 * def licId =  <LicensePermitTypeId>
	 * def licDescription =  <LicDescription>
	 * def expLicenseid = karate.jsonPath(values, "$[?(@.LicPermitTypeId == '" + <LicensePermitTypeId> + "')]")
	 
	 * match expLicenseid[0].Description contains licDescription
Examples:
| read('/CSVFiles/licensesPermitlist.csv') |




@IntakeLicensewithAssociatedTempPermit
Scenario: Intake License Submission
   
    * call read('LicensesCommonMethods.feature@GetCountyList') {}
   	
 	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyId + "')]")
	 * def countyZone = countyData[0].ZoneNo
	  And print countyZone
	  
   Given path '/internalapi/api/licensing/selectapptype/GetTempPermit'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And configure continueOnStepFailure = true
   	 And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def licensePermitId = response[0].licensePermitId
	  And print licensePermitId
	  And def licensePermitAppId = response[0].appId
	  And print licensePermitAppId
	  
	# ********* App Intake *********************
 
Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
     
   	 And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":'#(CountyId)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":true,"tempLicensePermitId":'#(licensePermitId)'}
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	   
	   And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And def description = response[0].description
	 
	   And def appId = response[0].appId
	  
	   * def formId = response[0].formId
	   * def FormVersionId = response[0].FormVersionId
 Given path '/internalapi/api/licensing/app/tree/'+appId
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And configure continueOnStepFailure = true
   	 And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def licStatus = response.appStatus
	  And print licStatus
	  And def associatedpermitId = response.items[0].licensePermitId
	   And print associatedpermitId
	    And def lpStatus = response.items[0].lpStatus
	   And print lpStatus
	  And match licStatus == 'Draft'
	  And match associatedpermitId == licensePermitId
	  And match lpStatus == 'Active'
	  
	  
	  
	  
@IntakeWholeSaleLicensewithoutAssociatedLic
Scenario: Intake License Submission
   
	 ********* App Intake *********************
 	 * call read('LicensesCommonMethods.feature@GetCountyList') {}
   	
 	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyId + "')]")
	 * def countyZone = countyData[0].ZoneNo
	    And print countyZone
	Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
         And header authorization = 'Bearer ' + strToken
  	     And header Content-Type = 'application/json; charset=utf-8'
         And header Accept = 'application/json; text/plain;*/*'
      
   	  #And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":'#(CountyID)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":false}
	   And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":'#(CountyId)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null}
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	   
	  
	   And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	 
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And def description = response[0].description
	 
	   And def appId = response[0].appId
	  
	   * def formId = response[0].formId
	   * def FormVersionId = response[0].FormVersionId
	   
	 Given path '/internalapi/api/application/preview/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def licStatus = response.appStatus.statusDescription
		  And print licStatus
		  And match licStatus == 'Draft'

   
  
	  
@IntakeLicensewithoutAssociatedLic
Scenario: Intake License Submission
   
	# ********* App Intake *********************
 	 * call read('LicensesCommonMethods.feature@GetCountyList') {}
   	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyId + "')]")
	 * def countyZone = countyData[0].ZoneNo
	   And print countyZone
	Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
         And header authorization = 'Bearer ' + strToken
  	     And header Content-Type = 'application/json; charset=utf-8'
         And header Accept = 'application/json; text/plain;*/*'
      
      #* def CountysId = <countyIds>
       #  And print CountysId
      #* string CountysName = <countynames>
       #  And print CountysName
      #* def mainLicensePermitTypeId = <LicensePermitTypeId>
       #  And print mainLicensePermitTypeId
        #       * string ProductType = <ProductTypes>
      #* string LicenseDescription = <LicDescription>
       #  And print ProductType
   	          And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":'#(CountyId)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":false}
	                      
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	   
	   And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	 
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And def description = response[0].description
	 
	   And def appId = response[0].appId
	  
	   * def formId = response[0].formId
	   * def FormVersionId = response[0].FormVersionId
	   
	 Given path '/internalapi/api/application/preview/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def licStatus = response.appStatus.statusDescription
		  And print licStatus
		  And match licStatus == 'Draft'

		  


@IntakeLicensewithApplyForTempPermit
Scenario: IntakeLicensewithApplyForTempRetailPermit
   # ********* App Intake *********************
   * call read('LicensesCommonMethods.feature@GetCountyList') {}
 	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyID + "')]")
	  * def countyZone = countyData[0].ZoneNo
	  And print countyZone
   Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
     
   	 And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":true,"isNotQualified":true,"notQualifiedReason":"Test Automation","isChainRestaurant":false,"addBarList":[],"tempLicensePermitTypeId":395,"countyId":'#(CountyID)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":false}
	             
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	   # And match response.length == 2
	  And def tempApplicationId = response[0].mainApplicationId
	  And print tempApplicationId
	  And match tempApplicationId == null
	  And def childAppId = response[0].childAppId
	  And print childAppId
	   And match childAppId != null
	   And def childTempApplicationId = response[0].childApplicationId
	  And print childTempApplicationId
	   And match childTempApplicationId != null
	  
	  
	  And def ApplicationId = response[1].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	 # * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyID + "')]")
	 # * def countyZone = countyData[0].ZoneNo
	 
     
	  And match ApplicationId != null
	  
	  And def childAppId = response[1].childAppId
	  And print childAppId
	   And match childAppId == null
	  And def appId = response[1].appId
	  And print appId
	   And match appId != null
	   
	   
  Given path '/internalapi/api/licensing/app/tree/'+appId
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And configure continueOnStepFailure = true
   	 And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def licStatus = response.appStatus
	  And print licStatus
	  And def mainApplicationID = response.applicationId
	  And print mainApplicationID
	  And def tempPermitApplicationID = response.items[0].applicationId
	   And print tempPermitApplicationID
	    And def appStatus = response.items[0].appStatus
	   And print appStatus
	  And match appStatus == 'Draft'
	  And match tempPermitApplicationID == childTempApplicationId
	   And match mainApplicationID == ApplicationId
	  And match licStatus == 'Draft'
	   		 

@IntakeAdditionalSeasonalBarLicensewithoutTempPermit
Scenario: IntakeAdditionalSeasonalBarLicensewithoutTempPermit
   # ********* App Intake *********************
   * call read('LicensesCommonMethods.feature@GetCountyList') {}
 	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyID + "')]")
	  * def countyZone = countyData[0].ZoneNo
	  And print countyZone
   Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
     
   	 And request {"mainLicensePermitTypeId":223,"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"notQualifiedReason":"","isChainRestaurant":false,"addBarList":[{"associatedLicenseTypeId":447,"noOfBars":5,"isSeasonal":true,"season":"Winter","isTempPermitRequired":false}],"countyId":1,"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":false}
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	  * def count = response.length
	  And match count == 6
	   And def appId = response[5].appId
	  And print appId
	  And match appId != null
	  And def ApplicationId1 = response[0].mainApplicationId
	  And print ApplicationId1
	  
	  And match ApplicationId1 == null
	  And def ApplicationId2 = response[1].mainApplicationId
	  And print ApplicationId2
	  And match ApplicationId2 == null
	  And def ApplicationId3 = response[2].mainApplicationId
	  And print ApplicationId3
	  And match ApplicationId3 == null
	  And def ApplicationId4 = response[3].mainApplicationId
	  And print ApplicationId4
	  And match ApplicationId4 == null
	  And def ApplicationId5 = response[4].mainApplicationId
	  And print ApplicationId5
	  And match ApplicationId5 == null
	  
	  And def ApplicationId = response[5].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And match ApplicationId != null
	  
	  
	   And def childAppId1 = response[0].childAppId
	  And print childAppId1
	  And match childAppId1 != null
	  And def childAppId2 = response[1].childAppId
	  And print childAppId2
	  And match childAppId2 != null
	  And def childAppId3 = response[2].childAppId
	  And print childAppId3
	  And match childAppId3 != null
	  And def childAppId4 = response[3].childAppId
	  And print childAppId4
	  And match childAppId4 != null
	  And def childAppId5 = response[4].childAppId
	  And print childAppId5
	  And match childAppId5 != null
	  
	  And def childAppId = response[5].childAppId
	  And print childAppId
	  And match childAppId == null
	  
	  And def childApplicationId1 = response[0].childApplicationId
	  And print childApplicationId1
	  And match childApplicationId1 != null
	  And def childApplicationId2 = response[1].childApplicationId
	  And print childApplicationId2
	  And match childApplicationId2 != null
	  And def childApplicationId3 = response[2].childApplicationId
	  And print childApplicationId3
	  And match childApplicationId3 != null
	  And def childApplicationId4 = response[3].childApplicationId
	  And print childApplicationId4
	  And match childApplicationId4 != null
	  And def childApplicationId5 = response[4].childApplicationId
	  And print childApplicationId5
	  And match childApplicationId5 != null
	  
	   And def childApplicationId = response[5].childApplicationId
	  And print childApplicationId
	  And match childApplicationId == null
	   
  Given path '/internalapi/api/licensing/app/tree/'+appId
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And configure continueOnStepFailure = true
   	 And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def licStatus = response.appStatus
	  And print licStatus
	  And def mainApplicationID = response.applicationId
	  And print mainApplicationID
	  And match mainApplicationID == ApplicationId
	  And match licStatus == 'Draft'
	  
	  
	  And def additionalBarid1 = response.items[0].applicationId
	   And print additionalBarid1
	    And def additionalBarAppStatus1 = response.items[0].appStatus
	   And print additionalBarAppStatus1
	  And match additionalBarAppStatus1 == 'Draft'
	  And match additionalBarid1 == childApplicationId1
	  
	  And def additionalBarid2 = response.items[1].applicationId
	   And print additionalBarid2
	    And def additionalBarAppStatus2 = response.items[1].appStatus
	   And print additionalBarAppStatus2
	  And match additionalBarAppStatus2 == 'Draft'
	  And match additionalBarid2 == childApplicationId2
	  
	  And def additionalBarid3 = response.items[2].applicationId
	   And print additionalBarid3
	    And def additionalBarAppStatus2 = response.items[2].appStatus
	   And print additionalBarAppStatus2
	  And match additionalBarAppStatus2 == 'Draft'
	  And match additionalBarid3 == childApplicationId3
	  
	  And def additionalBarid4 = response.items[3].applicationId
	   And print additionalBarid4
	    And def additionalBarAppStatus4 = response.items[3].appStatus
	   And print additionalBarAppStatus4
	  And match additionalBarAppStatus4 == 'Draft'
	  And match additionalBarid4 == childApplicationId4
	  
	  And def additionalBarid5 = response.items[4].applicationId
	   And print additionalBarid5
	    And def additionalBarAppStatus5 = response.items[4].appStatus
	   And print additionalBarAppStatus5
	  And match additionalBarAppStatus5 == 'Draft'
	  And match additionalBarid5 == childApplicationId5
	  
	  

@IntakeAdditionalBarLicensewithTempPermit
Scenario: IntakeAdditionalBarLicensewithTempPermit
   # ********* App Intake *********************
   * call read('LicensesCommonMethods.feature@GetCountyList') {}
   	 * def countyData = karate.jsonPath(values, "$[?(@.CountyId == '" + CountyId + "')]")
	 * def countyZone = countyData[0].ZoneNo
	  And print countyZone
   Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
     
   	 And request {"mainLicensePermitTypeId":223,"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":true,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[{"associatedLicenseTypeId":282,"durationInMonths":0,"noOfBars":2,"tempLicensePermitTypeId":395,"isTempPermitRequired":true}],"tempLicensePermitTypeId":395,"countyId":'#(CountyId)',"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null,"isAssociatedTempPermit":false}
	  When method post
	  * configure continueOnStepFailure = true
	  Then status 200
	  * def count = response.length
	  And match count == 6
	   And def appId = response[5].appId
	  And print appId
	  And match appId != null
	  And def ApplicationId1 = response[0].mainApplicationId
	  And print ApplicationId1
	  And match ApplicationId1 == null
	  And def ApplicationId2 = response[1].mainApplicationId
	  And print ApplicationId2
	  And match ApplicationId2 == null
	  And def ApplicationId3 = response[2].mainApplicationId
	  And print ApplicationId3
	  And match ApplicationId3 == null
	  And def ApplicationId4 = response[3].mainApplicationId
	  And print ApplicationId4
	  And match ApplicationId4 == null
	  And def ApplicationId5 = response[4].mainApplicationId
	  And print ApplicationId5
	  And match ApplicationId5 == null
	  
	  And def ApplicationId = response[5].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And match ApplicationId != null
	  * def formId = response[5].formId
	  
	   And def childAppId1 = response[0].childAppId
	  And print childAppId1
	  And match childAppId1 != null
	  And def childAppId2 = response[1].childAppId
	  And print childAppId2
	  And match childAppId2 != null
	  And def childAppId3 = response[2].childAppId
	  And print childAppId3
	  And match childAppId3 != null
	  And def childAppId4 = response[3].childAppId
	  And print childAppId4
	  And match childAppId4 != null
	  And def childAppId5 = response[4].childAppId
	  And print childAppId5
	  And match childAppId5 != null
	  
	  And def childAppId = response[5].childAppId
	  And print childAppId
	  And match childAppId == null
	  
	  And def childApplicationId1 = response[0].childApplicationId
	  And print childApplicationId1
	  And match childApplicationId1 != null
	  And def childApplicationId2 = response[1].childApplicationId
	  And print childApplicationId2
	  And match childApplicationId2 != null
	  And def childApplicationId3 = response[2].childApplicationId
	  And print childApplicationId3
	  And match childApplicationId3 != null
	  And def childApplicationId4 = response[3].childApplicationId
	  And print childApplicationId4
	  And match childApplicationId4 != null
	  And def childApplicationId5 = response[4].childApplicationId
	  And print childApplicationId5
	  And match childApplicationId5 != null
	  
	   And def childApplicationId = response[5].childApplicationId
	  And print childApplicationId
	  And match childApplicationId == null
	   
  Given path '/internalapi/api/licensing/app/tree/'+appId
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And configure continueOnStepFailure = true
   	 And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def licStatus = response.appStatus
	  And print licStatus
	  And def mainApplicationID = response.applicationId
	  And print mainApplicationID
	  And match mainApplicationID == ApplicationId
	  And match licStatus == 'Draft'
	  
	  
	  And def additionalBarid1 = response.items[0].applicationId
	   And print additionalBarid1
	    And def additionalBarAppStatus1 = response.items[0].appStatus
	   And print additionalBarAppStatus1
	  And match additionalBarAppStatus1 == 'Draft'
	  And match additionalBarid1 == childApplicationId1
	  
	  And def additionalBarid2 = response.items[1].applicationId
	   And print additionalBarid2
	    And def additionalBarAppStatus2 = response.items[1].appStatus
	   And print additionalBarAppStatus2
	  And match additionalBarAppStatus2 == 'Draft'
	  And match additionalBarid2 == childApplicationId2
	  
	  And def additionalBarid3 = response.items[1].items[0].applicationId
	   And print additionalBarid3
	    And def additionalBarAppStatus3 = response.items[1].items[0].appStatus
	   And print additionalBarAppStatus3
	  And match additionalBarAppStatus2 == 'Draft'
	  And match additionalBarid3 == childApplicationId3
	  
	  And def additionalBarid4 = response.items[2].applicationId
	   And print additionalBarid4
	    And def additionalBarAppStatus4 = response.items[2].appStatus
	   And print additionalBarAppStatus4
	  And match additionalBarAppStatus4 == 'Draft'
	  And match additionalBarid4 == childApplicationId4
	  
	  And def additionalBarid5 = response.items[2].items[0].applicationId
	   And print additionalBarid5
	    And def additionalBarAppStatus5 = response.items[2].items[0].appStatus
	   And print additionalBarAppStatus5
	  And match additionalBarAppStatus5 == 'Draft'
	  And match additionalBarid5 == childApplicationId5	   
	  
	  
	  
	  
@FillAndSaveApplicantInformationPage
Scenario: FillApplicantInformationPage	  
	* def getDate =
	    """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat('yyyyMMddHHmmss');
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		"""
	Given path '/internalapi/api/licensing/app/static/applicantinfo/save/'+appId
      	And header Content-Type = 'application/json; charset=utf-8'
  	  	
		* def autoFirstName = firstName + getDate()
		* def legalName1 = autoFirstName + lastName
		And header Accept = 'application/json; text/plain;*/*'
       	And header authorization = 'Bearer ' + strToken
      	And request {"businessInfo":{"website":null,"businessEntity":{"individualOrganization":'#(indOrgCode)',"corporateStructure":'#(CorporateStructureDropDownCode)',"firstName":'#(autoFirstName)',"lastName":'#(lastName)',"middleName":"AutoMidName","suffix":"1","ssn":"","fein":"","legalName":'#(legalName1)',"id":0,"isEmployeeForSoleProprietor":null,"individualOrganizationText":'#(IndOrgSelectionDropDown)',"corporateStructureText":'#(CorporateStructureDropDown)',"isIndividual":'#(isIndStatus)'},"address":{"addressId":0,"appId":null,"addressLine1":'#(Address1)',"addressLine2":'#(Address2)',"city":'#(CityName)',"stateId":'#(stateCode)',"county":'#(CountyName)',"zipCode":'#(zipCode)',"zip4":'#(postalCode)',"street":null,"telephoneNumber":null,"country":'#(countryName)',"addressTypeId":null,"location":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isActive":null,"showAndHide":null,"roomNo":null,"stateName":'#(CityName)',"countryId":229,"serialNo":0,"addressType":null,"state":null},"communication":{"email":'#(emailId)',"confirmEmail":'#(emailId)',"phones":[{"phoneType":"3","phoneTypeText":"Mobile","phone":'#(PhoneNumber)',"countryCode":'#(countryCode)',"phoneExtension":'#(PhoneExtn)',"phoneId":0}],"id":0},"id":0,"isLicensed":false,"isAssociated":false},"premisesInfo":{"dba":null,"licensePermitID":null,"address":{"addressId":0,"appId":null,"addressLine1":'#(Address1)',"addressLine2":'#(Address2)',"city":'#(CityName)',"stateId":'#(stateCode)',"county":'#(CountyName)',"zipCode":'#(zipCode)',"zip4":'#(postalCode)',"street":null,"telephoneNumber":null,"country":'#(countryName)',"addressTypeId":null,"location":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isActive":null,"showAndHide":null,"roomNo":null,"stateName":'#(CityName)',"countryId":229,"serialNo":0,"addressType":null,"state":null},"communication":{"email":'#(emailId)',"confirmEmail":'#(emailId)',"phones":[{"phoneType":"2","phoneTypeText":"Office","phone":'#(PhoneNumber)',"countryCode":'#(countryCode)',"phoneExtension":'#(PhoneExtn)',"phoneId":0}],"id":0],"id":0},"id":0},"applicantDetail":{"masterFileID":null,"mfExpDate":null,"certificateNysTax":null,"certIssueDate":null,"applicantStatement":{"nameOfApplicant":null,"date":null,"title":null,"signature":null,"id":0},"id":0,"isPhysicalChange":null}}
	   	When method post
	  	Then status 200	  
	  
@FillAndSavePrincipalPage
Scenario: FillAndSavePrincipalPage		  
   	* def getDate1 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat('yyyyMMddHHmmss');
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
	Given path '/internalapi/api/licensing/app/static/principal/save/'+appId
	    And header Content-Type = 'application/json; charset=utf-8'
  	   	* def prncipalName = firstName + getDate1()
  	   	* def dt = licDate()
		And header Accept = 'application/json; text/plain;*/*'
	    And header authorization = 'Bearer ' + strToken
	   And request {"entities":[],"principals":[{"principalId":0,"convictedOfCrime":'#(convictedOfCrime)',"percentageOfOwners":'#(percentageOfOwners)',"isFingerprintRequired":'#(isFingerprintRequired)',"isFingerprintsApproved":'#(isFingerprintsApproved)',"title":"15","numberOfShares":"","isSignature":false,"date":'#(dt)',"address":{"addressLine1":'#(Address1)',"addressLine2":'#(Address2)',"stateId":'#(stateCode)',"county":'#(CountyName)',"city":"New York","zipCode":'#(zipCode)',"zip4":'#(postalCode)',"country":'#(countryName)',"stateName":'#(CityName)',"countryId":229,"zip":'#(zipCode)'},"person":{"personId":0,"firstName":'#(prncipalName)',"middleName":"AutoMidName","lastName":"AutoLastName","suffix":"1","socialSecurityNo":"","birthDate":'#(dt)',"age":"","choosedEntity":null,"ssnFormat":"","suffixText":"JR"},"isIndividualsPartnersAssociatedWithEntity":"","communication":{"id":0,"phones":[],"email":'#(emailId)',"confirmEmail":'#(emailId)'},"titleText":"Vice President","convictedOfCrimeText":"No","disableFlags":"{\"isExisitingPrincipal\":false,\"isExistingPrincipalInBusiness\":false,\"isRenewalAndAmendPrincipal\":false,\"isNewPrincipal\":true}","isAssociated":false}]}
	   
		When method post
		Then status 200
	  
   
	  
@FillAndSaveRepresentativePage
Scenario: FillAndSaveRepresentativePage	  
  # ********* Representative ********************* 
    Given path '/internalapi/api/licensing/app/static/rep/save/'+appId
	    And header authorization = 'Bearer ' + strToken
	   	And request {"id":0,"contactType":"1","otherContactType":null,"selfCertified":null,"nysRegistrationNumber":null,"areYouBeingCompensated":null,"otherDescription":"Test Desc","subjectOfAppearance":null,"compensationType":null,"address":{"addressLine1":"1 wall street","addressLine2":"","county":'#(CountyName)',"city":'#(CityName)',"zipCode":"10011","country":"United States (US)","stateName":'#(CityName)',"countryId":229,"stateId":40},"isSelfCertifiedApplication":null,"person":{"personId":"0","isIndividualsPartnersAssociatedWithEntity":"","firstName":"Automation","middleName":"","lastName":"Automation","suffix":"","socialSecurityNo":"","birthDate":"","email":"","age":"","choosedEntity":""},"communication":{"email":"sbandi@svam.com","confirmEmail":"sbandi@svam.com","phones":[],"id":0},"phoneDetails":{"phoneType":"","countryCode":"","phone":"","phoneExtension":"","phoneId":0},"contactTypeText":"","isLicensed":""}
	   	When method post
	    Then status 200
	    And def serverResponse = response
   
@FillAndSaveRightToPrimisePage
Scenario: FillAndSaveRightToPrimisePage  
 # ********* Right to Premise ********************* 
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":"","formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"No","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"No","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"Robert","fieldID":1685,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"Pascal","fieldID":1687,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1","fieldID":1700,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response

@FeesValidation
Scenario: FeesValidation     
	
	* def futureDateFunc =
			"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """	
		   * def futureDate = futureDateFunc()
		  		  
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def date = getDate2()

	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+''
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = serverResponse[0].bondFee
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  

	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  

     # And header Content-Type = 'application/json; charset=utf-8'
			
  
	  Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/false'
	 
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
     			  
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(amount)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(licTerm)',"termDesc":'#(licTermDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
     When method post
	  Then status 200

  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
    And header authorization = 'Bearer ' + strToken
    And request {}
    When method get
    Then status 200
    And def checkDetailId = response[0].checkDetailId
    And print checkDetailId
    * def amount = response[0].amount
 	  * def underpaidAmount = totalFees-amount
	  
	  And print 'underpaidAmount- ',underpaidAmount
	  
   Given path '/internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()

      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(totalFees)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":'#(renewalFees)',"totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	 			  
	 
	  When method post
	  Then status 200
	 

   
   

# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200
   
    
    Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId 
# ********* Save PAYMENT ********************* 
    
    Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
		
		And header authorization = 'Bearer ' + strToken 
		And  request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		  
		
	    
		
		When method post
	    Then status 200
	    And print response
    
    	
    
# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
    

@WaveFeesValidation
Scenario: WaveFeesValidation

  
    Given path 'internalapi/api/licensing/app/static/applicantinfo/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def applicaintInfoCommID = serverResponse.businessInfo.communication.id
	  And print applicaintInfoCommID
	  * def applicaintInfoEmailId = serverResponse.businessInfo.communication.email
	  
	 Given path '/internalapi/api/licensing/app/static/rep/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def attorneyCommID = serverResponse.communication.id
	  And print attorneyCommID
	  * def attorneyEmailId = serverResponse.communication.email 
	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+'.00'
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+'.00'
	  * def licfilingFees = serverResponse[0].filingFees+'.00'
	  * def licInitialFees = serverResponse[0].initialFees | 0
	  * def bndFees = serverResponse[0].bondFee | 0
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees1 = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees1
	 * def tFees = totalFees1+'.00'
	  * def underpaidAmount = totalFees1 | 0
	  
	 
   Given path '/internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json'
      And header current-wfroleid = '3'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis(7 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()
		
      And header Accept = 'application/json'
      And header authorization = 'Bearer ' + strToken
      #And request {"checks":[],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licFees)',"amendmentFees":"0.00","renewalFees":'0.00',"totalFees":'#(tFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":true,"underPaymentAmount":'#(totalFees1)',"amountReceived":0,"waivedComment":"Waived fee for automation testing","isBondReceived":false,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":false,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":24387,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun Gupta"}},"notificationDetails":{"applicant":{"communicationId":24387,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	  And request {"checks":[],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(tFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":true,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":0,"waivedComment":"Waived fee for automation testing","isBondReceived":false,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":false,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":'#(applicaintInfoCommID)',"email":'#(applicaintInfoEmailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":'#(attorneyCommID)',"email":'#(attorneyEmailId)',"appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)'}},"notificationDetails":{"applicant":{"communicationId":'#(applicaintInfoCommID)',"email":'#(applicaintInfoEmailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":'#(attorneyCommID)',"email":'#(attorneyEmailId)',"appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)'},"taskId":null}
	  When method post
	  Then status 200
	  
	 
   	

# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200
     Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def isFeesWaivedStatus = serverResponse[0].isFeesWaived
	   * def waivedCommentSt = serverResponse[0].waivedComment
	    * def waivedUnderPaymentAmount = serverResponse[0].underPaymentAmount
	    * def waivedTotalFees = serverResponse[0].totalFees
       And match isFeesWaivedStatus == true
       And match waivedUnderPaymentAmount == 0
       And match waivedTotalFees == 0
       And match waivedCommentSt == 'Waived fee for automation testing'
      
   
@SubmitLicenseAndValidateLicStatus
Scenario: SubmitLicenseAndValidateLicStatus 
# ********* Application SUBMIT ********************* 
   Given path '/internalapi/api/licensing/app/submit'
	    And header authorization = 'Bearer ' + strToken
	    And request {"appId":'#(appId)',"wfType":null}
	    When method post
	    Then status 200
	    And def serverResponse = response
		And match response.success == true
		* call read('LicensesCommonMethods.feature@checkApplicationStatus') {}
  
@SubmitLicenseAndValidateLicStatus2
Scenario: SubmitLicenseAndValidateLicStatus 
# ********* Application SUBMIT ********************* 
   Given path '/internalapi/api/licensing/app/submit'
	    And header authorization = 'Bearer ' + strToken
	    And request {"appId":'#(appId)',"wfType":null}
	    When method post
	    Then status 200
	    And def serverResponse = response
		And match response.success == true
		* call read('LicensesCommonMethods.feature@checkApplicationStatus') {}
		  
@AssignApplicationsToExaminer
Scenario: AssignApplicationsToExaminer
 # ********* AssignApplicationsToExaminer *********************
    Given path '/internalapi/api/licensing/examiner/assignApplicationsToExaminer'
	    And header authorization = 'Bearer ' + strToken
	    And request [{"appId":'#(appId)',"examinerId":1069,"priority":"Normal"}]
	    When method post
	    And def serverResponse = response
   		* call read('LicensesCommonMethods.feature@checkApplicationStatus') {}

   
@ExaminerReviewApprovalToLB
Scenario: ExaminerReviewApprovalToLB  
 # ********* Examiner Review Approval to LB *********************
	 * def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
    Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense'
    	* def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 4
	    And request {"isFingerPrintsApproved":false,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":1,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":1231,"formId":'#(formId)',"legalName":"","submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":null,"memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":1069,"appId":'#(appId)',"examinerId":1069,"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"1","product":'#(productName)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Send to Licensing Board","value":2},"emailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"taskId":1026,"newComments":"","recommendedDecisionId":null};
	    When method post
	    Then status 200
   		 * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}

@ExaminerReviewDefineDeficiencies
Scenario: ExaminerReviewDefineDeficiencies  
 # ********* ExaminerReviewDefineDeficiencies *********************
 
 
	* def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  
		  
		"""
    Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense'
    	
	    * def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 4
	    And request {"isFingerPrintsApproved":true,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":1,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1, "formVersionId":1614,"formId":'#(formId)',"legalName":"","submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":"5/12/2022","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":1069,"appId":'#(appId)',"examinerId":1069,"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"1","product":'#(productName)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Define Deficiencies","value":1},"emailNotificationModel":{"applicant":{"communicationId":14533,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":14536,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"notificationTypeId":2028,"isInstantEmail":false},"hasErrors":[],"taskId":1026,"erDeficiencies":{"selectInput":{"fromFields":[{"id":4,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt."},{"id":5,"label":"Submit a copy of the Secretary of State filing receipt for the corp/LLC/LLP"},{"id":6,"label":"Provide a copy of the corporate minutes for the applicant entity"},{"id":7,"label":"Provide a copy of the LLC operating agreement for the applicant entity"},{"id":8,"label":"Provide a clear organizational chart for the applicant entity.  Each holding corporation should be listed.  All principals of each entity should be listed along with their percentage of ownership."},{"id":9,"label":"Premises address does not match the address listed on lease."},{"id":10,"label":"Premises address does not match the address listed on the bill of sale."},{"id":11,"label":"Premises address does not match the address listed on the deed."},{"id":12,"label":"Premises address must be written the same on all documents and must be the physical location of the premises (not the mailing address)."},{"id":13,"label":"Submit a Notice of Appearance or the attorney or representative."},{"id":14,"label":"Entity owning real property does not match applicant name – A lease between the two parties is required and must be submitted.  "},{"id":15,"label":"The lease must run the full term of the license period (please take processing time into consideration when determining the end date of the lease).  Provide either a new lease document or an amendment/rider to the existing one (signed by both landlord and tenant).  "},{"id":16,"label":"Landlord name must be the name shown on the deed."},{"id":17,"label":"All principals of the landlord entity must be listed."},{"id":18,"label":"To verify ownership, submit a copy of the deed."},{"id":19,"label":"The source of ALL funds (cash and borrowed) must be listed on this form."},{"id":20,"label":"Submit financial documentation proving the availability of the funds listed.  You must submit 3 consecutive months-worth of statements from checking or savings accounts showing the availability of the funds at the time they were expended."},{"id":21,"label":"Submit a copy of all executed loan agreements.  "},{"id":22,"label":"Provide the name and address of all on premises liquor establishments located within 500 feet of your establishment."},{"id":23,"label":"Provide a statement addressing why you believe it would be in the public's interest to issue this license."},{"id":24,"label":"Please complete the Statement of Area Plan form"},{"id":25,"label":"Provide a personal questionnaire for __________________."},{"id":26,"label":"Please list gender on _________'s personal questionnaire."},{"id":27,"label":"Provide residence addresses for the last 5 consecutive years."},{"id":28,"label":"Provide employment information for the last 5 consecutive years.  If unemployed for any period of time during the past 5 years, that must also be reflected."},{"id":29,"label":"________________ has/had license history with the Authority.  Amend question five to reflect all license history."},{"id":30,"label":"The Department of Criminal Justice Services has advised us that ________________________ has a conviction record. Amend question 6b to reflect the correct answer and provide a signed statement as to why the question was originally answered no.  Submit a Certificate of Disposition for all arrests and convictions. If convicted of a felony, you must submit a Certificate of Relief from Disabilities."},{"id":31,"label":"Amend the diagram labeling all rooms and bars"},{"id":32,"label":"Amend the diagram to include the food prep area"},{"id":33,"label":"Provide a diagram of the basement"},{"id":34,"label":"Provide a block plot diagram"},{"id":35,"label":"Add the outside area to the diagram "},{"id":36,"label":"Submit color photos of the interior of the premises including all dining areas, the bar and at least one of the kitchen.  Place the serial number on the back of each photo."},{"id":37,"label":"Submit one color photo of the front exterior of the premises.  Place the serial number on the back of the photo."},{"id":38,"label":"Submit color photos of any outside area (deck, patio, yard) to be licensed.  The photos must show how the area is contained (fencing, shrubbery, roping off).  Place the serial number on the back of the photos."},{"id":39,"label":"Provide a color photo of the applicant (no smaller than passport size) for _______________."},{"id":40,"label":"Provide a copy of ____________'s photo identification."},{"id":41,"label":"Submit a copy of the menu."},{"id":42,"label":"Provide proof of citizenship for _________________."},{"id":43,"label":"You have listed 1 restroom.  The Rules of the State Liquor Authority require 2 separate restrooms for both sexes.  Please submit a request to the Authority asking for a waiver of the 2-restroom rule.  You must explain why you believe one restroom is sufficient for the operation of your establishment."},{"id":44,"label":"Submit a copy of the maximum occupancy certificate."},{"id":45,"label":"______________________ needs to be fingerprinted. "},{"id":123,"label":"Additional Funds Required"},{"id":129,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC's dba name."},{"id":130,"label":"Provide a copy of the business certificate from the county clerk for your dba name."},{"id":131,"label":"Provide your federal tax identification number."},{"id":132,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department."},{"id":133,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly."},{"id":134,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly."},{"id":135,"label":"Provide a signed Bond Rider amending _______."},{"id":136,"label":"Provide Worker's Compensation and Disability Benefits insurance provider names and policy numbers."},{"id":137,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee."},{"id":138,"label":"Submit a copy of the Newspaper Affidavit(s)."},{"id":139,"label":"Provide your TTB permit."},{"id":140,"label":"Surrender of the current license in effect."},{"id":141,"label":"Make the edits listed below to the curriculum."},{"id":142,"label":"The submitted Curriculum generally covers the required topics. However,  the below changes must be made to ensure that the persons taking the course understand their rights, obligations, and liabilities under New York law."},{"id":143,"label":"The licensee's and server's responsibility to not sell, deliver or give alcohol to someone under the age of 21 (ABC Law 65)."},{"id":144,"label":"The licensee's and server's responsibility when serving more than one drink to an individual to be aware of any redelivery by the legal patron (on-premises only)."},{"id":145,"label":"The licensee's and server's responsibility to reasonably supervise the premises."},{"id":146,"label":"The licensee's and server's right to refuse to sell, including but not limited to, an underage patron, an intoxicated patron, or a patron without proper identification."},{"id":147,"label":"The licensee's and server's burden to establish that a delivery of alcohol was made in a reasonable reliance upon written evidence of age."},{"id":148,"label":"The forms of identification which may be legally accepted as written evidence of age (ABC Law 65-b.2)."},{"id":'#(appId)',"label":"Key features of the valid forms of identification and the way false and fraudulent forms of identification may be detected."},{"id":150,"label":"Devices and manuals which may be used to aid in the detection of false and fraudulent written evidence of age, and information regarding the way such devises and manuals may be obtained."},{"id":151,"label":"The criminal liabilities and penalties for both the individual and the establishment for unlawfully dealing with a child (Penal Law 260.20)."},{"id":152,"label":"The civil liabilities, general liabilities, responsibilities and general obligations (General Obligations Law 11-100 and 11-101)."},{"id":153,"label":"Firsthand accounts from the public illustrating the consequences of the failure of licensees and/or servers to operate in a safe, legal and responsible manner. (i.e., MADD, RID, and Shattered Lives)."},{"id":154,"label":"Provide the New York State Liquor Authority with access to the online course for review."},{"id":155,"label":"Remove the following content from the applicants' website:"},{"id":156,"label":"Provide the legal name of the applicant."},{"id":157,"label":"Provide the mailing address of the applicant."},{"id":158,"label":"Provide the federal id number of the applicant."},{"id":159,"label":"Provide the applicant's contact phone number."},{"id":160,"label":"Provide the applicant's email address."},{"id":161,"label":"Provide the director's name."},{"id":162,"label":"Provide the director's phone number."},{"id":163,"label":"Provide the director's email address."},{"id":164,"label":"Designate the format of the course. The Alcoholic Beverage Control Law states that the course be taught via online, classroom, or distance learning. An ATAP course can be offered in multiple formats."}],"toFields":[{"id":-1,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt.","originalId":4},{"id":-2,"label":"Submit a copy of the Secretary of State filing receipt for the corp/LLC/LLP","originalId":5},{"id":-3,"label":"Provide a copy of the corporate minutes for the applicant entity","originalId":6},{"id":-4,"label":"Provide a copy of the LLC operating agreement for the applicant entity","originalId":7},{"id":-5,"label":"Provide a clear organizational chart for the applicant entity.  Each holding corporation should be listed.  All principals of each entity should be listed along with their percentage of ownership.","originalId":8},{"id":-6,"label":"Premises address does not match the address listed on lease.","originalId":9},{"id":-7,"label":"Premises address does not match the address listed on the bill of sale.","originalId":10},{"id":-8,"label":"Premises address does not match the address listed on the deed.","originalId":11},{"id":-9,"label":"Premises address must be written the same on all documents and must be the physical location of the premises (not the mailing address).","originalId":12},{"id":-10,"label":"Submit a Notice of Appearance or the attorney or representative.","originalId":13},{"id":-11,"label":"Entity owning real property does not match applicant name – A lease between the two parties is required and must be submitted.  ","originalId":14},{"id":-12,"label":"The lease must run the full term of the license period (please take processing time into consideration when determining the end date of the lease).  Provide either a new lease document or an amendment/rider to the existing one (signed by both landlord and tenant).  ","originalId":15},{"id":-13,"label":"Landlord name must be the name shown on the deed.","originalId":16},{"id":-14,"label":"All principals of the landlord entity must be listed.","originalId":17},{"id":-15,"label":"To verify ownership, submit a copy of the deed.","originalId":18},{"id":-16,"label":"The source of ALL funds (cash and borrowed) must be listed on this form.","originalId":19},{"id":-17,"label":"Submit financial documentation proving the availability of the funds listed.  You must submit 3 consecutive months-worth of statements from checking or savings accounts showing the availability of the funds at the time they were expended.","originalId":20},{"id":-18,"label":"Submit a copy of all executed loan agreements.  ","originalId":21},{"id":-19,"label":"Provide the name and address of all on premises liquor establishments located within 500 feet of your establishment.","originalId":22},{"id":-20,"label":"Provide a statement addressing why you believe it would be in the public's interest to issue this license.","originalId":23},{"id":-21,"label":"Please complete the Statement of Area Plan form","originalId":24},{"id":-22,"label":"Provide a personal questionnaire for __________________.","originalId":25},{"id":-23,"label":"Please list gender on _________'s personal questionnaire.","originalId":26},{"id":-24,"label":"Provide residence addresses for the last 5 consecutive years.","originalId":27},{"id":-25,"label":"Provide employment information for the last 5 consecutive years.  If unemployed for any period of time during the past 5 years, that must also be reflected.","originalId":28},{"id":-26,"label":"________________ has/had license history with the Authority.  Amend question five to reflect all license history.","originalId":29},{"id":-27,"label":"The Department of Criminal Justice Services has advised us that ________________________ has a conviction record. Amend question 6b to reflect the correct answer and provide a signed statement as to why the question was originally answered no.  Submit a Certificate of Disposition for all arrests and convictions. If convicted of a felony, you must submit a Certificate of Relief from Disabilities.","originalId":30},{"id":-28,"label":"Amend the diagram labeling all rooms and bars","originalId":31},{"id":-29,"label":"Amend the diagram to include the food prep area","originalId":32},{"id":-30,"label":"Provide a diagram of the basement","originalId":33},{"id":-31,"label":"Provide a block plot diagram","originalId":34},{"id":-32,"label":"Add the outside area to the diagram ","originalId":35},{"id":-33,"label":"Submit color photos of the interior of the premises including all dining areas, the bar and at least one of the kitchen.  Place the serial number on the back of each photo.","originalId":36},{"id":-34,"label":"Submit one color photo of the front exterior of the premises.  Place the serial number on the back of the photo.","originalId":37},{"id":-35,"label":"Submit color photos of any outside area (deck, patio, yard) to be licensed.  The photos must show how the area is contained (fencing, shrubbery, roping off).  Place the serial number on the back of the photos.","originalId":38},{"id":-36,"label":"Provide a color photo of the applicant (no smaller than passport size) for _______________.","originalId":39},{"id":-37,"label":"Provide a copy of ____________'s photo identification.","originalId":40},{"id":-38,"label":"Submit a copy of the menu.","originalId":41},{"id":-39,"label":"Provide proof of citizenship for _________________.","originalId":42},{"id":-40,"label":"You have listed 1 restroom.  The Rules of the State Liquor Authority require 2 separate restrooms for both sexes.  Please submit a request to the Authority asking for a waiver of the 2-restroom rule.  You must explain why you believe one restroom is sufficient for the operation of your establishment.","originalId":43},{"id":-41,"label":"Submit a copy of the maximum occupancy certificate.","originalId":44},{"id":-42,"label":"______________________ needs to be fingerprinted. ","originalId":45},{"id":-43,"label":"Additional Funds Required","originalId":123},{"id":-44,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC's dba name.","originalId":129},{"id":-45,"label":"Provide a copy of the business certificate from the county clerk for your dba name.","originalId":130},{"id":-46,"label":"Provide your federal tax identification number.","originalId":131},{"id":-47,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department.","originalId":132},{"id":-48,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly.","originalId":133},{"id":-49,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly.","originalId":134},{"id":-50,"label":"Provide a signed Bond Rider amending _______.","originalId":135},{"id":-51,"label":"Provide Worker's Compensation and Disability Benefits insurance provider names and policy numbers.","originalId":136},{"id":-52,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee.","originalId":137},{"id":-53,"label":"Submit a copy of the Newspaper Affidavit(s).","originalId":138},{"id":-54,"label":"Provide your TTB permit.","originalId":139},{"id":-55,"label":"Surrender of the current license in effect.","originalId":140},{"id":-56,"label":"Make the edits listed below to the curriculum.","originalId":141},{"id":-57,"label":"The submitted Curriculum generally covers the required topics. However,  the below changes must be made to ensure that the persons taking the course understand their rights, obligations, and liabilities under New York law.","originalId":142},{"id":-58,"label":"The licensee's and server's responsibility to not sell, deliver or give alcohol to someone under the age of 21 (ABC Law 65).","originalId":143},{"id":-59,"label":"The licensee's and server's responsibility when serving more than one drink to an individual to be aware of any redelivery by the legal patron (on-premises only).","originalId":144},{"id":-60,"label":"The licensee's and server's responsibility to reasonably supervise the premises.","originalId":145},{"id":-61,"label":"The licensee's and server's right to refuse to sell, including but not limited to, an underage patron, an intoxicated patron, or a patron without proper identification.","originalId":146},{"id":-62,"label":"The licensee's and server's burden to establish that a delivery of alcohol was made in a reasonable reliance upon written evidence of age.","originalId":147},{"id":-63,"label":"The forms of identification which may be legally accepted as written evidence of age (ABC Law 65-b.2).","originalId":148},{"id":-64,"label":"Key features of the valid forms of identification and the way false and fraudulent forms of identification may be detected.","originalId":'#(appId)'},{"id":-65,"label":"Devices and manuals which may be used to aid in the detection of false and fraudulent written evidence of age, and information regarding the way such devises and manuals may be obtained.","originalId":150},{"id":-66,"label":"The criminal liabilities and penalties for both the individual and the establishment for unlawfully dealing with a child (Penal Law 260.20).","originalId":151},{"id":-67,"label":"The civil liabilities, general liabilities, responsibilities and general obligations (General Obligations Law 11-100 and 11-101).","originalId":152},{"id":-68,"label":"Firsthand accounts from the public illustrating the consequences of the failure of licensees and/or servers to operate in a safe, legal and responsible manner. (i.e., MADD, RID, and Shattered Lives).","originalId":153},{"id":-69,"label":"Provide the New York State Liquor Authority with access to the online course for review.","originalId":154},{"id":-70,"label":"Remove the following content from the applicants' website:","originalId":155},{"id":-71,"label":"Provide the legal name of the applicant.","originalId":156},{"id":-72,"label":"Provide the mailing address of the applicant.","originalId":157},{"id":-73,"label":"Provide the federal id number of the applicant.","originalId":158},{"id":-74,"label":"Provide the applicant's contact phone number.","originalId":159},{"id":-75,"label":"Provide the applicant's email address.","originalId":160},{"id":-76,"label":"Provide the director's name.","originalId":161},{"id":-77,"label":"Provide the director's phone number.","originalId":162},{"id":-78,"label":"Provide the director's email address.","originalId":163},{"id":-79,"label":"Designate the format of the course. The Alcoholic Beverage Control Law states that the course be taught via online, classroom, or distance learning. An ATAP course can be offered in multiple formats.","originalId":164}],"isRewritable":true,"rewriteLabel":"Edit Deficiency:","additionalComments":"","srclabel":"Select Deficiencies","dstlabel":"Add to Notification","additionalLabel":"Add Additional Deficiencies:"}},"newComments":""}
	    When method post
	    Then status 200
   		 * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}




@checkApplicationStatus
Scenario: checkLicenseApplicationStatus
 Given path '/internalapi/api/application/preview/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def licStatus = response.appStatus.statusDescription
		  And print licStatus
		 
		  #* assert (licStatus == expStatus)
		  # (licStatus == 'Schedule 500 Foot Hearing')
		  And match licStatus == '#(expStatus)'             

@IsPaymentFailedScenario
Scenario: IsPaymentFailedScenario
		* eval if(dueDateCount > 0 ) fundDueDate = fundDueDateFunc(dueDateCount)
		 
 		* def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()
	
	
	Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/true'
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"isPaymentFailed":true,"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":'#(licAncillaryFees1)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":1026}
	  When method post
	  Then status 200
	  And print response 
	  * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}  
	
	    
	    
@LBClaimingQueue
Scenario: LBClaimingQueue 
 # ********* LB Claiming Queue  ********************* 
 
    Given path 'internalapi/api/licensing/claiming-queue/add/'+appId +'/1069'
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 5
	    And request {}
	    When method post
	    Then status 200
        * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}  
@LBApproval
Scenario: LBApproval    
 # ********* LB Approval *********************    
    * def getSelectedDecisionFunc =
			"""
				function(value1){
					if (value1 == 'Approved'){
					return 1;
					}
					else if (value1 == 'Disapproved'){
					return 2;
					}
					else if (value1 == 'Disapproval to Counsel'){
					return 3;
					}else if (value1 == 'Withdrawal'){
					return 4;
					}else if (value1 == 'Conditionally Approved'){
					return 5;
					}else if (value1 == 'FB Decision Required'){
					return 6;
					}else if (value1 == 'Return to Examiner'){
					return 7;
					}					
					else {
					return 1;
					}
			    }
			"""
					
		* def selectedDecisionCode = getSelectedDecisionFunc(approvalName)
  			And print selectedDecisionCode
  			
  		   * def EffectiveDate = EffDate()
    Given path '/internalapi/api/licensing/new-license/saveDecision'
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 5
	    
        And request {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"masterFileData":[],"combinedCraftData":[],"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{},"attorney":{},"other":{"email":""}},"hasErrors":[],"taskId":1151,"newComments":"","approval":{"isDefineStipulations":false,"selectInput":{"fromFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"}],"toFields":[],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":'#(EffectiveDate)',"expirationDate":'#(expiryDate)',"stipulations":[],"descriptions":[]}}
    
	    When method post
	    Then status 200
	    And def serverResponse = response
	    #And def ActEffDate = serverResponse[0].effectiveDate
	    #And def ActExpDate = serverResponse[0].expirationDate
   		* call read('LicensesCommonMethods.feature@checkApplicationStatus') {}   

@ValidateLicenseApplicationStatus
Scenario: ValidateLicenseApplicationStatus on Search Page 
Given path 'internalapi/api/GenericSearch/SearchLicense'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And params  {page:1,pageSize:10}
      And request [{"dataTypeValue":"Text","key":"ApplicationId","operatorValue":"=","value":'#(ApplicationId)'}]
	  When method post
	  Then status 200
	  And print response
	  * match response.data[0].applicationStatus == '#(LicAppStatus)'
	  
@ValidateCommunicationPageAndEMailForOnPromises
 Scenario: ValidateCommunicationPageAndEMail Email Communication Page scenario
	
	Given path '/internalapi/api/Communication/GetEmailCommQueue/Application/'+appId
	   	* def dbSts = db.approvalLicenseEmailMapping((appId+''),NotificationMethodName)
		And print dbSts
		* match dbSts == true
	 	And header authorization = 'Bearer ' + strToken
	  	And header Content-Type = 'application/json; charset=utf-8'
	    And header Accept = 'application/json; text/plain;*/*'
	    And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
	  	And request ""
	    When method get
	    Then status 200	    
	    
	    And def serverResponse = response
	    
	    * def serverResponseNotificationData = karate.jsonPath(serverResponse, "$[?(@.typeOfNotification == '" + typeOfNotification + "')]")
		And print serverResponseNotificationData
		* match serverResponseNotificationData[0].status == 'Sent'
		* match serverResponseNotificationData[0].emailTo != []
		* match serverResponseNotificationData[0].subject == 'NYS Liquor Authority Licensing Bureau Record Information'
		#* match serverResponseNotificationData[0].emailBody contains emailBodyData
		* match serverResponseNotificationData[0].attachments[0].documentDesc == docName
		#* def acaDocumentId = serverResponseNotificationData[0].attachments[0].acaDocumentId
	
	#Given path '/internalapi/api/notification/Application/email/download/'+acaDocumentId
	 #  	And header authorization = 'Bearer ' + strToken
	  #	And header Content-Type = 'application/pdf;'
	   # And header Accept = 'text/html,application/xhtml+xml,application/xml;text/plain;*/*'
	   # And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
	  #	And request ""
	   # When method get
	    #Then status 200	    
	    
    #And match header Content-disposition contains 'attachment'
    #And match header Content-disposition contains 'example.xlsx'
    #And match header Content-Type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'

       # * def value = serverResponseNotificationData.createExcelFile(responseBytes)
       # * print value

@ValidateCommunicationPageAndEMailForOFFPromises
 Scenario: ValidateCommunicationPageAndEMailForOFFPromises Email Communication Page scenario
	
	Given path '/internalapi/api/Communication/GetEmailCommQueue/Application/'+appId
	   	* def dbSts = db.approvalLicenseEmailMapping((appId+''),NotificationMethodName)
		And print dbSts
		* match dbSts == true
	 	And header authorization = 'Bearer ' + strToken
	  	And header Content-Type = 'application/json; charset=utf-8'
	    And header Accept = 'application/json; text/plain;*/*'
	    And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
	  	And request ""
	    When method get
	    Then status 200	    
	    
	    And def serverResponse = response
	    
	    * def serverResponseNotificationData = karate.jsonPath(serverResponse, "$[?(@.typeOfNotification == '" + typeOfNotification + "')]")
		And print serverResponseNotificationData
		* match serverResponse[0].status == 'Sent'
		* match serverResponse[0].emailTo != []
		* match serverResponse[0].subject == 'NYS Liquor Authority Licensing Bureau Record Information'
		* match serverResponse[0].emailBody contains emailBodyData
		* match serverResponse[0].attachments[0].documentDesc == 'Application Receipt'
		* match serverResponseNotificationData == []

@getBondFormData
Scenario: AddAndValidateBondForm on Fee & bond Page 
Given path '/internalapi/api/licensing/fees/bond/company/'+companyName
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request ""
	  When method get
	  Then status 200
	  And print response
	  * def bondCmpId = response.bondCompanyId
	  * def bondCmpName = response.companyName
		* def bondCmpName = response.companyName
		* def bondCmpaddress = response.address
		* def bondCmpCity = response.city
		* def bondCmpST = response.state
		* def bondCmpZip = response.zip
		* def bondCmpPhone = response.phone
		* def bondCmpCreatedDate = response.createdDate
		* def bondCmpModifiedBy = response.modifiedBy
		* def bondCmpEmail = response.email
		
@FeesValidationWithBondData
Scenario: FeesValidationWithBondData     
	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+''
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = serverResponse[0].bondFee
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  
	  * def underpaidAmount = totalFees-amount
	  * def amount = amount+''
	  And print 'underpaidAmount- ',underpaidAmount
	  
	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  
	  
	
	  
	  Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
		  
		 
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def date = getDate2()
  	   
  	  
	  * def futureDate = futureDateFunc()
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
     			  
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(amount)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(licTerm)',"termDesc":'#(licTermDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
     When method post
	  Then status 200

  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
    And header authorization = 'Bearer ' + strToken
    And request {}
    When method get
    Then status 200
    And def checkDetailId = response[0].checkDetailId
    And print checkDetailId
 
   Given path '/internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()

      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(totalFees)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":'#(renewalFees)',"totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	 			  
	 
	  When method post
	  Then status 200
	 

   
   

# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200
   
    
    Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId 
# ********* Save PAYMENT ********************* 
    
    Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
		
		And header authorization = 'Bearer ' + strToken 
		And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":[{"bondDetailId":0,"bondNo":'#(bondCmpId)',"appId":'#(appId)',"companyName":'#(bondCmpName)',"address1":"","city":'#(bondCmpCity)',"state":'#(bondCmpST)',"zipCode":"","phone":'#(bondCmpPhone)',"email":"","isActive":false,"createdBy":"","createdDate":'#(bondCmpCreatedDate)',"modifiedBy":'#(bondCmpModifiedBy)',"modifiedDate":null,"amount":'#(bndFees)',"address":'#(bondCmpaddress)',"zip":'#(bondCmpZip)',"emailAddress":'#(bondCmpEmail)',"expirationDate":2025}],"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"appId":'#(appId)'},"attorney":{},"communityBoard":{},"other":{},"isInstantEmail":false,"appId":'#(appId)'}},"notificationDetails":{"applicant":{"appId":'#(appId)'},"attorney":{},"communityBoard":{},"other":{},"isInstantEmail":false,"appId":'#(appId)'},"taskId":null}
		
		When method post
	    Then status 200
	    And print response
    



@updateBodyFormData
Scenario: VerifyBondData on Fee & bond Page 

	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def appPaymentId = serverResponse[0].paymentDetails[0].appPaymentId
	  * def amountAppliedForApp = serverResponse[0].paymentDetails[0].amountAppliedForApp + ""
	 
 Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
		
		And header authorization = 'Bearer ' + strToken 
		And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"isPaymentFailed":false,"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appPaymentId":'#(appPaymentId)',"amountAppliedForApp":'#(amountAppliedForApp)',"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":0,"isPaymentFailed":null,"appliedTo":null,"amountUsed":null,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":null,"createdDate":'#(date)',"modifiedBy":"tgupta@svam.com","modifiedDate":null}],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":false,"bondDetails":[{"bondId":'#(bondId)',"bondNo":'#(bondCmpId)',"amount":'#(bndFees)',"claimDate":null,"claimedAmt":null,"companyName":'#(bondCmpName)',"emailAddress":'#(bondCmpEmail)',"createdBy":"tgupta@svam.com","createdDate":'#(bondCmpCreatedDate)',"modifiedBy":"tgupta@svam.com","modifiedDate":null,"isActive":true,"appId":'#(appId)',"expirationDate":"2025","address":'#(bondCmpaddress)',"city":'#(bondCmpCity)',"state":'#(bondCmpST)',"zip":'#(bondCmpZip)',"phone":'#(bondCmpPhone)'}],"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":true,"fundDueDate":'#(date)',"emailNotificationDetail":{"applicant":{"communicationId":28517,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":28520,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":28517,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":28520,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		       
		When method post
	    Then status 200
	    And print response
    
@VerifyBondData
Scenario: VerifyBondData on Fee & bond Page 
Given path 'internalapi/api/licensing/fees/bond/bond-info/get/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request ""
	  When method get
	  Then status 200
	  And print response
	  	* def bondId = response[0].bondId
	  	* def actBondCmpId = response[0].bondNo
	 	* def actBondCmpName = response[0].companyName
		* def actBondCmpaddress = response[0].address
		* def actBondCmpCity = response[0].city
		* def actBondCmpST = response[0].state
		* def actBondCmpZip = response[0].zip
		* def actBondCmpPhone = response[0].phone
		
		* def actBondCmpModifiedBy = response[0].modifiedBy
		* def actBondCmpEmail = response[0].emailAddress
  		* match  (bondCmpId+'') == (actBondCmpId)
  		* match  bondCmpName == actBondCmpName
  		* match  bondCmpaddress == actBondCmpaddress
  		* match  bondCmpCity == actBondCmpCity
  		* match  bondCmpST == actBondCmpST
  		* match  bondCmpZip == actBondCmpZip
  		* match  bondCmpPhone == actBondCmpPhone
  		* match  bondCmpEmail == actBondCmpEmail
  		
  		
  		

@getGisReportByAppId  		
Scenario: getGisReportByAppId Data
Given path '/internalapi/api/licensing/GisReport/getGISReportsByAppId/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request ""
	  When method get
	  Then status 200
	 * def liquorStoreResponseData = response.typeList[0]
	 
@getGisReport  		
Scenario: getGisReport on Page Data
Given path 'internalapi/api/licensing/GisReport/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request ""
	  When method get
	  Then status 200
	  
	  
	  * def schoolData = karate.jsonPath(response.typeList[0], "$[?(@.type == 'School')]")
	  * def ChurchData = karate.jsonPath(response.typeList[1], "$[?(@.type == 'Church')]")
	  * def liquorStoreData = karate.jsonPath(response.typeList[2], "$[?(@.type == 'liquorStore')]")
	  * def onPremiseLicenses750ftData = karate.jsonPath(response.typeList[3], "$[?(@.type == 'onPremiseLicenses750ft')]")
	  * def OnPremises2Data = karate.jsonPath(response.typeList[4], "$[?(@.type == 'OnPremises2')]")
	  * def OnPremises3Data = karate.jsonPath(response.typeList[5], "$[?(@.type == 'OnPremises3')]")
	  * def OnPremises4Data = karate.jsonPath(response.typeList[6], "$[?(@.type == 'OnPremises4')]")
	 * match schoolData != null 
	 * match schoolData != []
	 * match ChurchData != null 
	 * match ChurchData != []
	 * match liquorStoreData != null 
	 * match liquorStoreData != []
	 * match onPremiseLicenses750ftData != null 
	 * match onPremiseLicenses750ftData != []
	 * match OnPremises2Data != null 
	 * match OnPremises2Data != []
	  * match OnPremises3Data != null 
	 * match OnPremises3Data != []
	  * match OnPremises4Data != null 
	 * match OnPremises4Data != []
	 And print liquorStoreData[0]
	 * def liqourID = liquorStoreData[0].id
	 * def liqourType = liquorStoreData[0].type
	 * def liqourTypeName = liquorStoreData[0].typeName
	 * def liqourAddress = liquorStoreData[0].address 
	 * def liqourDistance = liquorStoreData[0].approxDistance
 
	
	 
@SaveGrossSalesReport  		
Scenario: SaveGrossSalesReport Data

Given path '/internalapi/api/licensing/GISReport/SaveGrossSalesReport'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request [{"id":'#(liqourID)',"type":'#(liqourType)',"typeName":'#(liqourTypeName)',"address":'#(liqourAddress)',"approxDistance":'#(liqourDistance)',"isReportReceived":false,"isSelected":true,"isSentToEnforcement":false,"isMailNotification":false,"isSent":null,"licenseId":12345,"appId":'#(appId)',"workFlowStatus":0,"isSubmit":false,"roleId":0,"workFlowCondition":0,"churchComments":null,"schoolComments":null,"comments":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}]
      
      
	  When method Post
	  Then status 200
	  * match response == 'true'
	  
	  
@UpdateGISReportDecision  		
Scenario: UpdateGISReportDecision Data
Given path '/internalapi/api/licensing/GisReport/updateDecision'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"appId":'#(appId)',"workFlowStatus":1101,"isSubmit":true}
	  When method post
	  Then status 200
	
	  * match response == 'true'
	  
@ValidateGISReportPDF  		
Scenario: UpdateGISReportDecision Data
Given path '/internalapi/api/notification/Application/email/download/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"appId":'#(appId)',"workFlowStatus":1101,"isSubmit":true}
	  When method post
	  Then status 200
	
	  * match response == 'true'
	
	
@SearchLicenseApplicationByCriteria  		
Scenario: SearchLicenseApplicationByCriteria 
Given path '/internalapi/api/licensing/search/searchLicenseApplicationByCriteria'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"WfTaskIdList":[],"LicenseStatusList":[],"Status":null,"isTempPermit":null,"ApplicationId":'#(ApplicationId)',"LicensePermitId":null,"LegalName":null,"FEIN":null}

	  When method post
	  Then status 200
	
	  * match response.apps[0].taskStatus == expLicStatus
	
	
@GetAndValidateDueDateForLicense  		
Scenario: GetAndValidateDueDateForLicense 
	 Given path '/internalapi/api/licensing/new-license/getDueDates/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		
		And def reslicAction = response[1].action
		And def resAppStatus = response[1].applicationStatus
		And def resAppDueDate = response[1].dueDate
		And print reslicAction
		And print resAppStatus 
		
		And print resAppDueDate 
	     * match reslicAction == licAction
	     * match resAppStatus == appStatus
	     * match resAppDueDate contains dueDate
	     
	     


@FillFeesFormwithPaymentAfterPaymentFailed
Scenario: FeesValidationwithMultipleChecks     
	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+'.00'
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = ~~Math.round(serverResponse[0].bondFee)
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  
	  * def underpaidAmount = ~~Math.round(totalFees-totalAmount)
	  * def amount = totalFees+'.00'
	  And print 'underpaidAmount- ',underpaidAmount
	  
	  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request {}
	    When method get
	    Then status 200
	    And def checkDetailId = response[0].checkDetailId
	    And print checkDetailId
	   
 
   
    Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId  
	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  
	  
	  
	  Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
		  
		 
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
		   * def getDate3 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.S");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def date = getDate2()
  	  * def date3 = getDate3()
  	   
  	  
	  * def futureDate = futureDateFunc()
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
       			  
      And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(totalAmountStr)',"isPaymentFailed":'#(isPaymentFailed)',"appliedTo":null,"amountUsed":0,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date3)',"modifiedBy":null,"modifiedDate":null,"applyClick":true},{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"2","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(totalAmountStr)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(appFeesId1)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(amount)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":true,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(licTerm)',"termDesc":'#(licTermDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":true,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate1)',"emailNotificationDetail":{"applicant":{"communicationId":71118,"email":'#(appId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":'#(appId)',"appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":71118,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":1304}
    
      #{"checks":[{"checkDetailId":5133,"appId":110540,"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":"2022-05-19T04:00:00.000Z","slaintakeDate":"2022-05-19T04:00:00.000Z","amount":"100.00","isPaymentFailed":true,"appliedTo":null,"amountUsed":0,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":"2022-05-19T04:11:07.6","modifiedBy":null,"modifiedDate":null,"applyClick":true},{"appId":110540,"slaintakeDate":"2022-05-19T08:22:58.710Z","applyClick":false,"paymentSource":"RDC","checkNo":"2","batchNo":1,"itemNo":1,"slareceivedDate":"2022-05-19T04:00:00.000Z","amount":960}],"appFees":{"appFees":[{"licenseName":"Restaurant - Beer","applicationId":"NA-0111-22-2107026","applicationTypeId":1,"appFeesId":7588,"appId":110540,"feesRefId":6039,"initialFees":0,"licensingFees":"960.00","amendmentFees":"0.00","renewalFees":"0.00","totalFees":"1060.00","filingFees":"100.00","ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":1060,"amountReceived":"0.00","waivedComment":null,"isBondReceived":true,"isBondRequired":true,"bondFee":1000,"term":3,"termDesc":"3 Year (s)","seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":true,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":"2022-05-29T00:00:00.000Z","emailNotificationDetail":{"applicant":{"communicationId":71130,"email":"automation@svam.com","appId":110540,"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71133,"email":"sbandi@svam.com","appId":110540,"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":110540,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":110540,"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":71130,"email":"automation@svam.com","appId":110540,"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71133,"email":"sbandi@svam.com","appId":110540,"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":110540,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":110540,"createdBy":"Tarun  Gupta"},"taskId":1304}
      
      # {"checks":[{"checkDetailId":5135,"appId":110541,"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":"2022-05-19T04:36:32.783Z","slaintakeDate":"2022-05-19T04:36:32.783Z","amount":"100.00","isPaymentFailed":true,"appliedTo":null,"amountUsed":0,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":"2022-05-19T04:36:32.784","modifiedBy":null,"modifiedDate":null,"applyClick":true},{"appId":110541,"slaintakeDate":"2022-05-19T04:36:32.783Z","applyClick":false,"paymentSource":"RDC","checkNo":"2","batchNo":1,"itemNo":1,"slareceivedDate":"2022-05-19T04:36:32.783Z","amount":960.0}],"appFees":{"appFees":[{"licenseName":"Restaurant-Beer","applicationId":"NA-0111-22-2107027","applicationTypeId":1,"appFeesId":7589,"appId":110541,"feesRefId":6039,"initialFees":0,"licensingFees":960,"amendmentFees":"0.00","renewalFees":"0.00","totalFees":1060.0,"filingFees":"100","ancillaryFees":"0","isFeesWaived":false,"underPaymentAmount":1060.0,"amountReceived":"0.00","waivedComment":null,"isBondReceived":"0","isBondRequired":true,"bondFee":1000.0,"term":3,"termDesc":"3 Year (s)","seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":true,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":"2022-05-29","emailNotificationDetail":{"applicant":{"communicationId":71118,"email":110541,"appId":110541,"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":110541,"appId":110541,"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":110541,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":110541,"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":71118,"email":"automation@svam.com","appId":110541,"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":"sbandi@svam.com","appId":110541,"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":110541,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":110541,"createdBy":"Tarun  Gupta"},"taskId":null}
     When method post
	  Then status 200

  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request {}
	    When method get
	    Then status 200
	    And def checkDetailId = response[0].checkDetailId
	    And print checkDetailId
	     And def checkDetailId1 = response[1].checkDetailId
	    And print checkDetailId1
# ********* Save PAYMENT ********************* 
    
    Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
			
	    And header authorization = 'Bearer ' + strToken
		And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(totalAmountStr)',"isPaymentFailed":'#(isPaymentFailed)',"appliedTo":null,"amountUsed":0,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":'#(amount)'},{"checkDetailId":'#(checkDetailId1)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"2","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(totalAmountStr)',"appliedTo":null,"amountUsed":'#(totalAmount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees)',"filingFees":'#(licfilingFees1)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(totalAmount)',"waivedComment":null,"isBondReceived":false,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId1)',"checkNo":"2","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(totalAmount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":true,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":true,"fundDueDate":'#(fundDueDate1)',"emailNotificationDetail":{"applicant":{"communicationId":71118,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":71118,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71121,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":1304}
		When method post
	    Then status 200
	    And print response 
    
    
    
# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	    
@FeesValidation2
Scenario: FeesValidation     
	
	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+''
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = serverResponse[0].bondFee
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  
    * def amount = response[0].amount
    	  * def underpaidAmount = totalFees-amount
	  * def amount = amount+''
	  And print 'underpaidAmount- ',underpaidAmount
	  		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  
	  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
    And header authorization = 'Bearer ' + strToken
    And request {}
    When method get
    Then status 200
    And def checkDetailId = response[0].checkDetailId
    And print checkDetailId  
	
	  
	  Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
	  * def futureDate = futureDateFunc()
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
		And  request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		   
      When method post
	  Then status 200

 
  # Given path '/internalapi/api/licensing/fees/details/save/'+appId+'/false'
     # And header Content-Type = 'application/json; charset=utf-8'
  	 * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()

    #  And header Accept = 'application/json; text/plain;*/*'
     # And header authorization = 'Bearer ' + strToken
      #And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(totalFees)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":'#(renewalFees)',"totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	 			  
	 
	 # When method post
	 # Then status 200
	 

       Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId 
   

# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200
   
    

# ********* Save PAYMENT ********************* 
    
    #Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     

		
	#	And header authorization = 'Bearer ' + strToken 
	#	And  request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		  
		
	    
		
	#	When method post
	 #   Then status 200
	  #  And print response
    
    	
    
# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	    
@FeesValidationwithMultipleChecks
Scenario: FeesValidationwithMultipleChecks     
	Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+''
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = serverResponse[0].bondFee
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  
	  * def underpaidAmount = totalFees-(amount+100)
	  * def amountPaid = amount+''
	  And print 'underpaidAmount- ',underpaidAmount
	  
	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  
	  
	  
	  Given path 'internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
		  
		 
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def date = getDate2()
  	   
  	  
	  * def futureDate = futureDateFunc()
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
       			  
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":100},{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"2","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(amountPaid)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":"580.00","filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":false,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(licTerm)',"termDesc":'#(licTermDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":false,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
    
     When method post
	  Then status 200

  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
    And header authorization = 'Bearer ' + strToken
    And request {}
    When method get
    Then status 200
    And def checkDetailId = response[0].checkDetailId
    And print checkDetailId
    And def checkDetailId1 = response[1].checkDetailId
    And print checkDetailId1
 
   
    Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId 
# ********* Save PAYMENT ********************* 
    
    Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
			
	    And header authorization = 'Bearer ' + strToken
		And request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":100,"appliedTo":null,"amountUsed":100,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0},{"checkDetailId":'#(checkDetailId1)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"2","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amountPaid)',"appliedTo":null,"amountUsed":0,"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":'#(amountPaid)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":0,"amountReceived":'#(amountPaid)',"waivedComment":null,"isBondReceived":false,"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":"100.00","amount":0},{"appId":'#(appId)',"checkDetailId":'#(checkDetailId1)',"checkNo":"2","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amountPaid)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"isFromReturnedCheck":false,"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":true,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		
		#{"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amountPaid)',"appliedTo":null,"amountUsed":'#(amountPaid)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amountPaid)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amountPaid)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
When method post
	    Then status 200
	    And print response
    
    
    
# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	    
@getDueDateExtension	
Scenario: get the Due date with the help of App-Id
Given path '/internalapi/api/licensing/duedate-extension/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	    * def currentDueDate = serverResponse.existingData[0].currentDueDate
	    * def pastDueDate = serverResponse.existingData[0].pastDueDate
	    
@getDueDateExtension2	
Scenario: get the Due date with the help of App-Id
Given path '/internalapi/api/licensing/duedate-extension/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	    * def currentDueDate = serverResponse.existingData[0].currentDueDate
	 
	 
@ApproveDisapproveDueDateExtension  		
Scenario: ApproveDisapproveDueDateExtension 
	# ********* Approve Due Date *********************
	 Given path '/internalapi/api/licensing/search/GetEmailNotificationByAppIdAndNotificationTypeId/'+appId+'/0'
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * def applicantCommId = serverResponse.applicant.communicationId
	   * def attorneyCommId = serverResponse.attorney.communicationId

    Given path '/internalapi/api/licensing/duedate-extension/save'
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = '3'
	    And print extendedDueDate
	    And request {"extendtoDate":'#(extendedDueDate)',"decision":'#(approvedStatus)',"appId":'#(appId)',"taskId":1304,"emailNotificationModel":{"applicant":{"communicationId":'#(applicantCommId)',"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":'#(attorneyCommId)',"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"email":"automation@test.com"}}}
	    When method post
	    Then status 200
	    And def serverResponse = response 
	 	And print serverResponse
	 	* match serverResponse == 'true'
	Given path '/internalapi/api/licensing/duedate-extension/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	    * match currentDueDate contains serverResponse.existingData[0].currentDueDate
	    * match serverResponse.existingData[0].pastDueDate contains extendedDueDate
	    
@ApproveDisapproveDueDateExtension2  		
Scenario: ApproveDisapproveDueDateExtension 
	# ********* Approve Due Date *********************
	 Given path '/internalapi/api/licensing/search/GetEmailNotificationByAppIdAndNotificationTypeId/'+appId+'/0'
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * def applicantCommId = serverResponse.applicant.communicationId
	   * def attorneyCommId = serverResponse.attorney.communicationId
	    
	   

    Given path '/internalapi/api/licensing/duedate-extension/save'
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = '3'
	    And print extendedDueDate
	    And request {"extendtoDate":'#(extendedDueDate)',"decision":'#(approvedStatus)',"appId":'#(appId)',"taskId":1304,"emailNotificationModel":{"applicant":{"communicationId":'#(applicantCommId)',"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":'#(attorneyCommId)',"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"email":"automation@test.com"}}}
	    When method post
	    Then status 200
	    And def serverResponse = response 
	 	And print serverResponse
	 	* match serverResponse == 'true'
	Given path '/internalapi/api/licensing/duedate-extension/get/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	    * match extendedDueDate contains serverResponse.existingData[0].currentDueDate
	    * match serverResponse.existingData[0].pastDueDate contains extendedDueDate
	    
 # ********* LB Approval *********************    
   
@ApproveLBWithStipulations
Scenario: ApproveDisapproveLB 
	
		 * def fundDueDateFunc1 =
		  """
			  function(days) {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd");
			    
			    var date = new java.util.Date();
			    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( days));
			    return sdf.format(dayAfter);
			  } 
		  """
		  * def currentDate = fundDueDateFunc1(0)  
		  * def expiryDate = fundDueDateFunc1(30)    
    Given path '/internalapi/api/licensing/new-license/saveDecision'
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 5
    * def payload = ""
    * def payloadWithReturnToExaminer = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Return to Examiner","value":7},"emailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"returning to examiner queue for correct review"}
    #* def payloadWithConditionalApprove = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Conditionally Approved","value":5},"emailNotificationModel":{"applicant":{"communicationId":106,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":109,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","conditionalApproval":{"selectInput":{"fromFields":[{"id":2,"label":"Provide a copy of the business certificate from the county clerk for your dba name"},{"id":3,"label":"Provide your federal tax identification number"},{"id":4,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department"},{"id":5,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly."},{"id":6,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly"},{"id":7,"label":"Provide a signed Bond Rider amending____________"},{"id":8,"label":"Provide Worker’s Compensation and Disability Benefits insurance provider names and policy numbers"},{"id":9,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee"},{"id":10,"label":"Submit a copy of the Newspaper Affidavit(s)"},{"id":11,"label":"Provide your TTB permit"},{"id":12,"label":"Surrender of the current license in effect"},{"id":13,"label":"Other Condition"}],"toFields":[{"id":1,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name"}],"isRewritable":true,"rewriteLabel":"Edit Condition:","additionalComments":"","srclabel":"Select","dstlabel":"Add to Letter","additionalLabel":"Additional Conditions:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"conditions":[1],"descriptions":["Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name"]}}
    * def payloadWithConditionalApprove = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Conditionally Approved","value":5},"emailNotificationModel":{"applicant":{"communicationId":4,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","conditionalApproval":{"selectInput":{"fromFields":[{"id":3,"label":"Provide your federal tax identification number"},{"id":5,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly."},{"id":6,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly"},{"id":7,"label":"Provide a signed Bond Rider amending____________"},{"id":8,"label":"Provide Worker’s Compensation and Disability Benefits insurance provider names and policy numbers"},{"id":9,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee"},{"id":10,"label":"Submit a copy of the Newspaper Affidavit(s)"},{"id":11,"label":"Provide your TTB permit"},{"id":12,"label":"Surrender of the current license in effect"},{"id":13,"label":"Other Condition"}],"toFields":[{"id":1,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name"},{"id":2,"label":"Provide a copy of the business certificate from the county clerk for your dba name"},{"id":4,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department"}],"isRewritable":true,"rewriteLabel":"Edit Condition:","additionalComments":"","srclabel":"Select","dstlabel":"Add to Letter","additionalLabel":"Additional Conditions:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"conditions":[1,2,4],"descriptions":["Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name","Provide a copy of the business certificate from the county clerk for your dba name","Provide a copy of your Certificate of Authority from the New York State Tax Department"]}}
    * def payloadWithoutStipulations = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{"communicationId":23,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":26,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","approval":{"isDefineStipulations":false,"selectInput":{"fromFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"},{"id":40,"label":"ABC"}],"toFields":[],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","additionalComments":"","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"stipulations":[],"descriptions":[]}}
    * def payloadSingle = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{"communicationId":9854,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","approval":{"isDefineStipulations":'#(DefineStipulationStatus)',"selectInput":{"fromFields":[{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"},{"id":40,"label":"ABC"}],"toFields":[{"id":1,"label":"Inside of premises closes at x"}],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","additionalComments":"","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"stipulations":[1],"descriptions":["Inside of premises closes at x"]}}
    * def payloadmultiple = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{"communicationId":9854,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","approval":{"isDefineStipulations":true,"selectInput":{"fromFields":[],"toFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"},{"id":40,"label":"ABC"}],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","additionalComments":"","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"stipulations":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],"descriptions":["Inside of premises closes at x","Side walk café closes at x","Backyard closes at x","Alcohol consumption inside stops at X","Alcohol consumption in backyard stops at x","Alcohol consumption on sidewalk café stops at x","No live music in inside of premises","No live music outside of premise","No DJs","No promoters","No Promoted events","Recorded music only","Music stops at X","Music outside stops at X","Only non-amplified music","Acoustic music only","No bar crawls","Close façade doors at certain time","Close Windows at a certain time","No boozy brunches","No unlimited drink","No happy Hours","No bottle service ","No dancing","No delivery bikes","No TVs","Licensed patio","Licensed sidewalk café","No outside areas","Security Guards required","X amount of security guards per x amount of patrons","# of security guards per patron","No VIP","No roped lines","No hookah","Doors closed at all times","Windows closed at all time","All agreed upon CB stipulations except","All employees must be TIPS trained","ABC"]}}
     * eval if (StipulationsCount == 0 && licStatus == 'Approved') payload = payloadWithoutStipulations
    * eval if (StipulationsCount == 1 && licStatus == 'Approved') payload = payloadSingle
    * eval if (StipulationsCount > 1 && licStatus == 'Approved') payload = payloadmultiple
    * eval if (licStatus == 'Conditionally Approved') payload = payloadWithConditionalApprove
    * eval if (licStatus == 'Return to Examiner') payload = payloadWithReturnToExaminer
    And request payload 
    And print payload        
           When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse

          
  # ********* GET License Id *********************  
  
    Given path '/internalapi/api/licensing/LBDecision/getLicenseByAppId/' + appId +'/-1'
    And header authorization = 'Bearer ' + strToken
    And request {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"masterFileData":[],"combinedCraftData":[],"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":null,"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{},"attorney":{},"other":{"email":""}},"hasErrors":[],"taskId":1151,"newComments":"","approval":{"isDefineStipulations":false,"selectInput":{"fromFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"}],"toFields":[],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":"2022-01-10","expirationDate":"2022-08-31","stipulations":[],"descriptions":[]}}
    When method get
    Then status 200
    And def serverResponse = response
    And print serverResponse
    And def licId = serverResponse.license.licId
    And def licenseId = serverResponse.license.licenseId
    And print serverResponse
    And print 'licId : ' , licId
    And print 'licenseId : ' , licenseId
    And match licId != []
    And match licenseId != []   
    
    
@GetLicenseId
Scenario: Get license ID  
    Given path '/internalapi/api/licensing/LBDecision/getLicenseByAppId/' + appId +'/-1'
    And header authorization = 'Bearer ' + strToken
    * def EffectiveDate = EffDate()
    And request {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"masterFileData":[],"combinedCraftData":[],"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":null,"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{},"attorney":{},"other":{"email":""}},"hasErrors":[],"taskId":1151,"newComments":"","approval":{"isDefineStipulations":false,"selectInput":{"fromFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"}],"toFields":[],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":'#(EffectiveDate)',"expirationDate":'#(expiryDate)',"stipulations":[],"descriptions":[]}}
    When method get
    Then status 200
    And def serverResponse = response
    And print serverResponse
    And def licId = serverResponse.license.licId
    And def licenseId = serverResponse.license.licenseId
    And def ActEffDate = serverResponse.license.seasonalStartDate
	And def ActExpDate = serverResponse.license.expiryDate
    And print serverResponse
    And print 'licId : ' , licId
    And print 'licenseId : ' , licenseId
    And match licId != []
    And match licenseId != [] 
       ## And print 'ActEffDate : ' , seasonalStartDate 
       # And print 'ActExpDate : ' , expiryDate  

@DisapproveLB
Scenario: DisapproveLB
	Given path '/internalapi/api/licensing/new-license/saveDecision'
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 5
    * def payload = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":'#(lbStatus)',"value":'#(lbDropDownVal)'},"emailNotificationModel":{"applicant":{"communicationId":68,"email":"automation@test.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":71,"email":"automation@test.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","disApproval":{"isDisapprovalForCause":true,"isDisapprovalLetterAttach":true,"selectInput":{"fromFields":[{"id":2,"label":"A temporary permit for a New York City premises may not be considered for approval, unless a contract of sale is submitted with the application.  No contract of sale was submitted for this transaction."},{"id":3,"label":"A liquidator’s permit may not be considered for approval when the application it is filed in conjunction with is disapproved."},{"id":4,"label":"A liquidator’s permit may not be approved when the seller of the alcohol is currently in arrears and on the Authority’s COD List.  The seller will need to clear all accounts in arrears and re-apply."},{"id":5,"label":"An insufficient fee was submitted with the application.  Total fee due was $___ and the total fee paid was $_____"},{"id":6,"label":"Check number ____ in the amount of ________ , for payment in connection with this application was returned due to insufficient funds.  A request for certified funds was sent to the applicant on _________, to which there was no reply."},{"id":7,"label":"Licensees are not eligible to change corporate entities using an endorsement/corporate change application.  A licensee forming a new entity and using a new FEIN# must file a new application under the new corporate entity."},{"id":8,"label":"Endorsement applications may not be used to change an application from an executor of an estate to a corporation.  A new application must be filed once the estate is settled."},{"id":9,"label":"Licensee is not eligible to file a removal under a new corporate entity.  Licensee must file a new application for the new corporate entity with the new FEIN #."},{"id":10,"label":"The applicant submitted an outdated application form that is no longer accepted for processing as of 11/30/13."},{"id":11,"label":"Temporary retail permit was received with an outdated main application."},{"id":12,"label":"The corporate change filed under this serial number is a duplicate of a corporate change filed on _______________under _________________________________, serial number __________."}],"toFields":[{"id":1,"label":"A temporary permit may not be considered for approval unless it is preceded or accompanied by an application for a permanent license."}],"isRewritable":true,"rewriteLabel":"Edit Reason for Disapproval:","additionalComments":"disapprove the app","srclabel":"Select","dstlabel":"Add to Notification","additionalLabel":"Additional Reasons for Disapproval:"},"disapprovalReason":[1,-1],"descriptions":["A temporary permit may not be considered for approval unless it is preceded or accompanied by an application for a permanent license.","disapprove the app"]}}
   	* def withdrawalpayload = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"Withdrawal","value":4},"emailNotificationModel":{"applicant":{"communicationId":8,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":11,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"withdrawing app"}
   	* eval if(lbStatus == 'Withdrawal') payload = withdrawalpayload			
    And request payload         
    When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse

@FBDecisionRequiredScenario
Scenario: FBDecisionRequiredScenario
	* def fundDueDateFunc1 =
		  """
			  function(days) {
			    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
			    var sdf = new SimpleDateFormat("yyyy-MM-dd");
			    
			    var date = new java.util.Date();
			    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( days));
			    return sdf.format(dayAfter);
			  } 
		  """
		  * def currentDate = fundDueDateFunc1(0)  
		  * def expiryDate = fundDueDateFunc1(30) 
	Given path '/internalapi/api/licensing/new-license/saveDecision'
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 5
    * def payload = {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"statusId":3,"decisionType":{"name":"FB Decision Required","value":6},"emailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"licPermitTypeId":'#(mainLicensePermitTypeId)',"taskId":1151,"newComments":"","conditionalApproval":{"selectInput":{"fromFields":[{"id":2,"label":"Provide a copy of the business certificate from the county clerk for your dba name"},{"id":3,"label":"Provide your federal tax identification number"},{"id":4,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department"},{"id":5,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly."},{"id":6,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly"},{"id":7,"label":"Provide a signed Bond Rider amending____________"},{"id":8,"label":"Provide Worker’s Compensation and Disability Benefits insurance provider names and policy numbers"},{"id":9,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee"},{"id":10,"label":"Submit a copy of the Newspaper Affidavit(s)"},{"id":11,"label":"Provide your TTB permit"},{"id":12,"label":"Surrender of the current license in effect"},{"id":13,"label":"Other Condition"}],"toFields":[{"id":1,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name"}],"isRewritable":true,"rewriteLabel":"Edit Condition:","additionalComments":"FB decision required","srclabel":"Select","dstlabel":"Add to Letter","additionalLabel":"Additional Conditions:"},"effectiveDate":'#(currentDate)',"expirationDate":'#(expiryDate)',"conditions":[1,-1],"descriptions":["Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC’s dba name","FB decision required"]}}
   	And request payload         
    When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse
    
@updateInformationLetter
Scenario: updateInformationLetter
	Given path '/internalapi/api/license/updateInformationLetter'
    And header authorization = 'Bearer ' + strToken
    And header Content-Type = 'application/json'
     And header current-wfroleid = '3'
    And header Accept = 'application/json'
    * def payload = ""
    * def disapprovalPayload = {"appId":'#(appId)',"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"opened":true,"approved":'#(approvedStatus)',"comment":'#(comment)',"disapprovalComment":"Disapproval Letter comment"}
    * def approvalPayload = {"appId":'#(appId)',"applicationId":'#(ApplicationId)',"legalName":'#(legalName)',"opened":true,"approved":'#(approvedStatus)',"comment":'#(comment)'}
   	* eval if(approvedStatus == true) payload = approvalPayload
   * eval if(approvedStatus == false) payload = disapprovalPayload
   	And request payload         
    When method post
    Then status 200
    And def serverResponse = response
    * match serverResponse == 'true' 
    
@saveConditionsInfo
Scenario: saveConditionsInfo
	Given path '/internalapi/api/licensing/conditionReview/getConditionsInfo/'+appId
    	* def dbSts = db.cleanHeap()
  	   And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json'
      And header current-wfroleid = '3'
    And header Accept = 'application/json'
     And request ""
	  When method get
	  Then status 200
	  And print response
	  * def appConditionId = response.conditionReview[0].appConditionId 
	  * def conditionDefinedDate = response.conditionReview[0].conditionDefinedDate 
	  * def conditionId = response.conditionReview[0].conditionId
	   * def conditionDescription = response.conditionReview[0].conditionDescription
	    * def conditionDescriptionDetail = response.conditionReview[0].conditionDescriptionDetail
	     * def responseDueDate = response.conditionReview[0].responseDueDate
	  * def taskDecision = response.conditionReview[0].taskDecision
	     * def taskId = response.conditionReview[0].taskId 
	 
	Given path '/internalapi/api/licensing/conditionReview/saveConditionsInfo'
    And header authorization = 'Bearer ' + strToken
    And header Content-Type = 'application/json'
     And header current-wfroleid = '3'
    And header Accept = 'application/json'
   
   * def getCurrentDate =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		   * def getAddedDate =
		  """
		  function(days) {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( days));
		    return sdf.format(dayAfter);
		  } 
		  """
		* def todaysDate = getCurrentDate()
		* def Added20DaysDate = getAddedDate(20)
		
		
   	And request {"effectiveDate":'#(todaysDate)',"expirationDate":'#(Added20DaysDate)',"conditionReview":[{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":'#(conditionId)',"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescription)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":true,"responseReceived":null,"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}],"appId":'#(appId)',"comment":"","taskId":'#(taskId)',"taskDecision":'#(taskDecision)',"isSaveResponse":false,"isSubmit":true,"emailNotificationModel":{"applicant":{"communicationId":19835,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":19838,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}}}

	 
    When method post
    Then status 200
    And def serverResponse = response
    * match serverResponse == 'true' 
    Given path '/internalapi/api/licensing/LBDecision/getApprovalInfoByAppId/'+appId
    
  	   And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json'
      And header current-wfroleid = '3'
    And header Accept = 'application/json'
     And request ""
	  When method get
	  Then status 200
	  And print responseSaveAndSubmitSchedule500HearingWithNoOption
	  * match response.licensePermitId != []
	   * match response.licensePermitId != null

@ValidateAttachedDocument
Scenario: ValidateAttachedDocument
	* def dbSts = db.cleanHeap()
	  Given path '/internalapi/api/documents/GetDocuments'
    
  	   And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json'
     
    And header Accept = 'application/json, text/plain, */*'
     And request {"type":"application","id":'#(appId)',"subCategory":""}
	  When method post
	  Then status 200
	  And print response
	 * def docData = karate.jsonPath(response, "$[?(@.documentDesc == '" + documentDesc + "')]")
	 #* def fileName = docData[0].fileName
	 #* match fileName == documentDesc+'.pdf'
 
 
    	
@ValidateEmailCommunicationQueue
 Scenario: ValidateEmailCommunicationQueue Email Communication Page scenario
	
	Given path '/internalapi/api/Communication/GetEmailCommQueue/Application/'+appId
	   	
	 	And header authorization = 'Bearer ' + strToken
	  	And header Content-Type = 'application/json; charset=utf-8'
	    And header Accept = 'application/json; text/plain;*/*'
	    And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
	  	And request ""
	    When method get
	    Then status 200	    
	    
	    And def serverResponse = response
	    
	    * def serverResponseNotificationData = karate.jsonPath(serverResponse, "$[?(@.typeOfNotification == '" + typeOfNotification + "')]")
		And print serverResponseNotificationData
		* match serverResponseNotificationData[0].status == 'Sent'
		* match serverResponseNotificationData[0].emailTo != []
		* match serverResponseNotificationData[0].subject == subject
		* match serverResponseNotificationData[0].emailBody contains emailBodyData
		
@ValidateCommunicationPageAndEMailForOFFPromises
 Scenario: ValidateCommunicationPageAndEMailForOFFPromises Email Communication Page scenario
	
	Given path '/internalapi/api/Communication/GetEmailCommQueue/Application/'+appId
	   	* def dbSts = db.approvalLicenseEmailMapping((appId+''),NotificationMethodName)
		And print dbSts
		* match dbSts == true
	 	And header authorization = 'Bearer ' + strToken
	  	And header Content-Type = 'application/json; charset=utf-8'
	    And header Accept = 'application/json; text/plain;*/*'
	    And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
	  	And request ""
	    When method get
	    Then status 200	    
	    
	    And def serverResponse = response
	    
	    * def serverResponseNotificationData = karate.jsonPath(serverResponse, "$[?(@.typeOfNotification == '" + typeOfNotification + "')]")
		And print serverResponseNotificationData
		* match serverResponse[0].status == 'Sent'
		* match serverResponse[0].emailTo != []
		* match serverResponse[0].subject == 'NYS Liquor Authority Licensing Bureau Record Information'
		* match serverResponse[0].emailBody contains emailBodyData
		* match serverResponse[0].attachments[0].documentDesc == 'Application Receipt'
		* match serverResponseNotificationData == []		    

@SaveAndSubmitSchedule500HearingWithNoOption  		
Scenario: SubmitSchedule500Hearing 
	
      Given path '/internalapi/api/licensing/hearing500/save'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"Test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
	    And print responseCode
	    When method post
	    Then match responseStatus == responseCode
	    * eval if(responseStatus == 200) karate.call('LicensesCommonMethods.feature@SubmitSchedule500HearingWithNoOption')
	   
	    
@SubmitSchedule500HearingWithNoOption  		
Scenario: SubmitSchedule500Hearing 	    
Given path '/internalapi/api/licensing/hearing500/submit'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"Test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
	    
	    When method post
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse == 'true'	
	   
@validapprovedlicenseid
Scenario: TC0001_SLA_PER_Application Type_Validation

Given path 'internalapi/api/licensing/selectapptype/savenewpermitapp'
    * def dbSts = db.cleanHeap()
    And header authorization = 'Bearer ' + strToken
    And header Content-Type = 'application/json; charset=utf-8'
    And header Accept = 'application/json; text/plain;*/*'
    And configure continueOnStepFailure = true
    And request {"businessType":"","permitType":"Associated Permit","mainLicenseId":'#(fiveDigitAppID)',"tempPermitTypeId":[],"mainApplicationId":"","associatedLicenseList":[],"isMainTempPermitRequired":false,"newPermitTypeIds":[{"permitTypeId":399}],"isNotQualified":false,"notQualifiedReason":""}
When method post
    * configure continueOnStepFailure = true
Then status 200
    And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And def description = response[0].description
	  And def PermitDescription = response.description
	  And print PermitDescription     
	  
@IntakeWholesaleLicense
Scenario: IntakeWholesaleLicenseSubmission
   
	# ********* App Intake *********************
 
	Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
   		
   	  And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":1,"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null}
	  When method post
	  Then status 200
	 
	  And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And def description = response[0].description
	 
	  And def appId = response[0].appId
	  
	  * def formId = response[0].formId
	  
@DocumentTabValidation	  
Scenario: DocumentTabValidation

    Given path '/internalapi/api/Communication/GetEmailCommQueue/licensePermit/'+appId
  * def dbSts = db.getApprovalLicenseEmailMapping((appId+''))
	And print dbSts
 	And header authorization = 'Bearer ' + strToken
  	And header Content-Type = 'application/json; charset=utf-8'
    And header Accept = 'application/json; text/plain;*/*'
    And header user-agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'
  	And request ""
    When method get
    Then status 200
    And def serverResponse = response
 	#* match serverResponse != []
 	
@IntakeRetailonLiqourPremise
Scenario: Intake License Submission

	   # ********* App Intake *********************
	  Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
     	
     # * def termInYears = <NumberOfTerm>
     #And print termInYears
      #* def termDesc = <NumberOfTerm>+' Year (s)'
     	# And print termDesc
      #* def licenseFees = <InitialLicFee>
     #And print licenseFees
     	
    #  * def fillingFees = <NonRefundableFilingFees>
    # And print fillingFees
     	
    #  * def renewalFees = <RenewalFilingFees>+''
    # And print renewalFees
     	
    #  * def bondFees = <bond>
    # And print bondFees	
    
    #* string productName = <ProductTypes>+''
     #* def totalFees = licenseFees  + fillingFees
     #And print totalFees	
    And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":1,"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null}
	  When method post
	  Then status 200
	   And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And def description = response[0].description
	 
	   And def appId = response[0].appId
	  
	   * def formId = response[0].formId
	   
@FeesValidation3
Scenario: FeesValidation

  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()

Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response
	  * def licTerm = serverResponse[0].term
	  * def licFees = serverResponse[0].licensingFees+''
	  * def licTermDesc = serverResponse[0].termDesc
	  * def licFeesRefId =  serverResponse[0].feesRefId
	  * def licAncillaryFees = serverResponse[0].ancillaryFees+''
	  * def licfilingFees = serverResponse[0].filingFees+''
	  * def licInitialFees = serverResponse[0].initialFees
	  * def bndFees = serverResponse[0].bondFee
	  * def isBondRequired = serverResponse[0].isBondRequired
	  And def totalFees = serverResponse[0].licensingFees+serverResponse[0].filingFees
	  And print totalFees  

	  
 	Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
	  When method post
	  Then status 200
	  And print response
	  
	  Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
      And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {}
	  When method get
	  Then status 200
	  And def serverResponse = response

  Given path 'internalapi/api/licensing/fees/check-payments/get/'+appId
    And header authorization = 'Bearer ' + strToken
    And request {}
    When method get
    Then status 200
    And def checkDetailId = response[0].checkDetailId
    And print checkDetailId
    * def amount = response[0].amount
 	  * def underpaidAmount = totalFees-amount
	  * def amount = amount+''
	  And print 'underpaidAmount- ',underpaidAmount
    
	  
   Given path '/internalapi/api/licensing/fees/details/save/'+appId+'/false'
      And header Content-Type = 'application/json; charset=utf-8'
  	  * def futureDateFunc =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( 30 ));
		    return sdf.format(dayAfter);
		  } 
		  """
 	* def futureDate = futureDateFunc()
		   * def getDate2 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
  	  * def date = getDate2()

      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"checks":[{"appId":'#(appId)',"slaintakeDate":'#(date)',"applyClick":false,"paymentSource":"RDC","checkNo":"1","batchNo":1,"itemNo":1,"slareceivedDate":'#(date)',"amount":'#(totalFees)'}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":0,"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":'#(licInitialFees)',"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":'#(renewalFees)',"totalFees":'#(totalFees)',"filingFees":'#(licfilingFees)',"ancillaryFees":'#(licAncillaryFees)',"isFeesWaived":false,"underPaymentAmount":'#(totalFees)',"amountReceived":"0.00","waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":true,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":8531,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	 			And  request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
	 			  
	 
	  When method post
	  Then status 200
	 

   
   

# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200
   
    
    Given path '/internalapi/api/licensing/fees/licenses/get/'+appId
        And header authorization = 'Bearer ' + strToken
        And header Content-Type = 'application/json; charset=utf-8'
   		And header Accept = 'application/json; text/plain;*/*'
  		And request ""
		When method get
		Then status 200
		And print response[0].appFeesId
		And def appFeesId1 = response[0].appFeesId
		And def feesRefId1 = response[0].feesRefId
		And print appFeesId1
		And print feesRefId1 
		And def applicationTypeId = response[0].applicationTypeId
		And print applicationTypeId 
# ********* Save PAYMENT ********************* 
    
    Given path '/internalapi/api/licensing/fees/details/save/'+appId +'/false'
     
		* def slaDate = licFeesDate()
		* def slaaDate = licDate()
		* def licInitialFees1 = licInitialFees+''
		And print licInitialFees1
		* def renewalFees1 = renewalFees+''
		And print renewalFees1
		* def totalFees1 = totalFees+''
		
		And print totalFees1
		* def licAncillaryFees1 = licAncillaryFees+''
		* def licfilingFees1 = licfilingFees+''
		
		And header authorization = 'Bearer ' + strToken 
		And  request {"checks":[{"checkDetailId":'#(checkDetailId)',"appId":'#(appId)',"paymentSource":"RDC","checkNo":"1","batchNo":"1","itemNo":"1","slareceivedDate":'#(date)',"slaintakeDate":'#(date)',"amount":'#(amount)',"appliedTo":null,"amountUsed":'#(amount)',"comment":null,"isReplacement":null,"replacementReason":null,"isActive":true,"createdBy":"tgupta@svam.com","createdDate":'#(date)',"modifiedBy":null,"modifiedDate":null,"applyClick":true,"amountAvailable":0}],"appFees":{"appFees":[{"licenseName":'#(description)',"applicationId":'#(ApplicationId)',"applicationTypeId":1,"appFeesId":'#(licFeesRefId)',"appId":'#(appId)',"feesRefId":'#(licFeesRefId)',"initialFees":0,"licensingFees":'#(licenseFees)',"amendmentFees":"0.00","renewalFees":"0.00","totalFees":'#(totalFees1)',"filingFees":'#(licfilingFees1)',"ancillaryFees":"0.00","isFeesWaived":false,"underPaymentAmount":'#(underpaidAmount)',"amountReceived":'#(amount)',"waivedComment":null,"isBondReceived":'#(isBondRequired)',"isBondRequired":'#(isBondRequired)',"bondFee":'#(bndFees)',"term":'#(termInYears)',"termDesc":'#(termDesc)',"seasonalStartDate":null,"seasonalEndDate":null,"isFeesCountBased":false,"isFeesUnitBased":false,"numOfUnits":0,"paymentDetails":[{"appId":'#(appId)',"checkDetailId":'#(checkDetailId)',"checkNo":"1","itemNo":"1","batchNo":"1","amountAppliedForApp":'#(amount)',"amount":0}],"lateFee":0,"isFeesBarPerDay":null}],"bondDetails":null,"isPaymentFailed":false,"isUnderpaid":false,"sendNotification":false,"fundDueDate":'#(fundDueDate)',"emailNotificationDetail":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}},"notificationDetails":{"applicant":{"communicationId":15102,"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"},"taskId":null}
		  
		
	    
		
		When method post
	    Then status 200
	    And print response
    
    	
    
# ********* SAVE Application Details To Save *********************
    Given path '/internalapi/api/licensing/app/save'
	    And header authorization = 'Bearer ' + strToken
	    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(description)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	    
@Save500FootHearing
Scenario: Save500FootHearing

# ********* Save 500Feet Hearing *********************
    Given path '/internalapi/api/licensing/hearing500/save'
    
    And header authorization = 'Bearer ' + strToken
    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
    When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse
    
@Submit500FootHearing
Scenario: Submit500FootHearing

# *********Submit 500Feet Hearing *********************
    Given path '/internalapi/api/licensing/hearing500/submit'
    
    And header authorization = 'Bearer ' + strToken
    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
    When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse     
    
@IntakeretailOnPremisesSeasonal
Scenario: Intake seeasonal License Submission
   
	# ********* App Intake *********************
 
	Given path '/internalapi/api/licensing/selectapptype/savenewlicenseapp'
	  * def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
   		
     * def futureDay = 30 * termInYears
      And print futureDay	
      * def futureDateFunc1 =
		  """
		  function(futureDay) {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    
		    var date = new java.util.Date();
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( futureDay));
		    return sdf.format(dayAfter);
		  } 
		  """
		 * def futureDate123 = futureDateFunc1(futureDay)
		 And print futureDate123
		  
		   * def getDate21 =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  * def date123 = getDate21()
	  And print date123
		  
    And request {"mainLicensePermitTypeId":'#(mainLicensePermitTypeId)',"noOfMonths":'#(termInYears)',"startDate":'#(date123)',"endDate":'#(futureDate123)',"newPermitTypeIds":[],"combinedCraftId":null,"masterFileId":null,"isApplicableForTempPermit":false,"isNotQualified":false,"isChainRestaurant":false,"addBarList":[],"countyId":1,"isApplicantCurrentLicensed":false,"isExistingManufacturer":false,"selectedLicense":null}
	  When method post
	  Then status 200
	 
	   And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And def description = response[0].description
	 
	   And def appId = response[0].appId
	  
	   * def formId = response[0].formId    
	   
@IntakeStandalonePermitwithoutLic
Scenario: IntakeStandalonePermitWithoutLic
    Given path '/internalapi/api/licensing/selectapptype/savenewpermitapp'
    * def dbSts = db.cleanHeap()
    And header authorization = 'Bearer ' + strToken
    And header Content-Type = 'application/json; charset=utf-8'
    And header Accept = 'application/json; text/plain;*/*'
    And request {"businessType":"","permitType":"Standalone Permit","mainLicenseId":null,"tempPermitTypeId":[],"mainApplicationId":"","associatedLicenseList":[],"isMainTempPermitRequired":false,"newPermitTypeIds":[{"permitTypeId":'#(mainLicensePermitTypeId)'}],"isNotQualified":false,"notQualifiedReason":""}
    When method post
    Then status 200
    And def ApplicationId = response[0].mainApplicationId
    And print ApplicationId
    And match ApplicationId contains 'NA-'
    And def description = response[0].description
    And print description
    And def appId = response[0].appId
    * def formId = response[0].formId	
    
@ExaminerApprovalToLBPermits
Scenario: Examiner Approval To LB For Permits

    Given path '/internalapi/api/licensing/examiner-review/SaveNewPermit'
    
    * def summisionDate =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  
		  
		  """
	* def formatedSumbitDate = summisionDate()
    #And header authorization = 'Bearer ' + strTokenRole
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 4
    And request {"isFingerPrintsApproved":true,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":6,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":1498,"formId":1111,"legalName":'#(legalName)',"submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(licDescription)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":"Albany","priority":"Normal","expirationDate":null,"appStatusId":2,"taskStatus":"Awaiting Review","taskId":1526,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":false,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":null,"memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"event":null,"appStatus":{"appStatusId":2,"statusDescription":"IntakeComplete","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":473,"appId":'#(appId)',"examinerId":1069,"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"2","category":"6","product":"","class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":true,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":true,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Send to Licensing Board","value":2},"emailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"taskId":1526,"newComments":"SEND TO LB AUTOMATION","recommendedDecisionId":"1"}       
	       When method post
    Then status 200
   
        #addedStatus
  	* call read('LicenseFormScenarios.feature@checkApplicationStatus') {expStatus:'Awaiting Review'}
  	
@LBCApprovalPermits
Scenario: LB Approval Permits  	

 # ********* LB Approval *********************    
   
    
    Given path '/internalapi/api/licensing/new-permit/saveDecision'
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 5
    And request {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"appId":'#(appId)',"applicationType":1,"applicationId":'#(applicationId)',"legalName":"Sep13_BrewerTasting_Annual_AQAMC","statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{"communicationId":6936,"email":"vdsouza@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":6938,"email":"vdsouza@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":374,"taskId":1601,"newComments":"","approval":{"isDefineStipulations":false,"effectiveDate":'#(EffectiveDate)',"expirationDate":"2023-02-28"}}
 
@IntakeStandalonePermitsWithActiveLicense 	
Scenario: TC0001_SLA_PER_Application Type_Validation

Given path 'internalapi/api/licensing/selectapptype/savenewpermitapp'
    * def dbSts = db.cleanHeap()
    And header authorization = 'Bearer ' + strToken
    And header Content-Type = 'application/json; charset=utf-8'
    And header Accept = 'application/json; text/plain;*/*'
    And configure continueOnStepFailure = true
    And request {"businessType":"","permitType":"Associated Permit","mainLicenseId":'#(fiveDigitAppID)',"tempPermitTypeId":[],"mainApplicationId":"","associatedLicenseList":[],"isMainTempPermitRequired":false,"newPermitTypeIds":[{"permitTypeId":399}],"isNotQualified":false,"notQualifiedReason":""}
When method post
    * configure continueOnStepFailure = true
Then status 200
    And def ApplicationId = response[0].mainApplicationId
	  And print ApplicationId
	  And match ApplicationId contains 'NA-'
	  	  * def currentYear = '-'+getYearFunc()+'-'+countyZone
	  And match ApplicationId contains currentYear
	  And def description = response[0].description
	  And def PermitDescription = response.description
	  And print PermitDescription
	  
@SubmitSchedule500HearingWithYesoption  		
Scenario: SubmitSchedule500Hearing 
	Given path '/internalapi/api/reference'
   	* def dbSts = db.cleanHeap()
      And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json;charset=utf-8'
      And header Accept = 'text/plain'
      And params  {name:hearinglocation,onlyActives:true}
 	  And request {}
	  When method get
	  * configure continueOnStepFailure = true
	  Then status 200
	    And def values = response.values
	   
	  * def hearingLocData = karate.jsonPath(values, "$[?(@.HearingLocationId == '" + hearingLocationId + "')]")
	   And print hearingLocData
	  * def hearingLocationName = hearingLocData[0].Name
	  And print hearingLocationName
      * def hearingLocationAddress = hearingLocData[0].Address
      * def hearingLocation = hearingLocData[0].Location
      * def hearingCity = hearingLocData[0].City
      * def hearingCountry = hearingLocData[0].County
      * def hearingCreatedDate = hearingLocData[0].CreatedDate
      * def hearingState = hearingLocData[0].StateName
      * def hearingZipCode = hearingLocData[0].ZipCode
      * def hearingZoneNumber = hearingLocData[0].ZoneNo
      * def hearingActiveStatus = hearingLocData[0].IsActive
      
      
    
      Given path '/internalapi/api/licensing/hearing500/save'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"HearingLocationId":'#(hearingLocationId)',"Name":'#(hearingLocationName)',"Address":'#(hearingLocationAddress)',"Location":'#(hearingLocation)',"City":'#(hearingCity)',"StateName":'#(hearingState)',"ZipCode":'#(hearingZipCode)',"ZoneNo":'#(hearingZoneNumber)',"County":'#(hearingCountry)',"IsActive":'#(hearingActiveStatus)',"CreatedBy":null,"CreatedDate":'#(hearingCreatedDate)',"ModifiedBy":null,"ModifiedDate":null,"Zip4":null},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":true,"HearingReasonId":-1,"Comments":"","AppId":'#(appId)',"HearingDate":'#(date)',"HearingLocationId":'#(hearingLocationId)',"isSubmit":true}
	                
	    When method post
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse == 'true'
	 Given path '/internalapi/api/licensing/hearing500/submit'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"HearingLocationId":'#(hearingLocationId)',"Name":'#(hearingLocationName)',"Address":'#(hearingLocationAddress)',"Location":'#(hearingLocation)',"City":'#(hearingCity)',"StateName":'#(hearingState)',"ZipCode":'#(hearingZipCode)',"ZoneNo":'#(hearingZoneNumber)',"County":'#(hearingCountry)',"IsActive":'#(hearingActiveStatus)',"CreatedBy":null,"CreatedDate":'#(hearingCreatedDate)',"ModifiedBy":null,"ModifiedDate":null,"Zip4":null},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":true,"HearingReasonId":-1,"Comments":"","AppId":'#(appId)',"HearingDate":'#(date)',"HearingLocationId":'#(hearingLocationId)',"isSubmit":true}
	    When method post
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse == 'true'
	   
	  Given path '/internalapi/api/licensing/search/GetEmailNotificationByAppIdAndNotificationTypeId/'+appId+'/0'
	    And header authorization = 'Bearer ' + strToken
	    And request ''
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * def applicantCommId = serverResponse.applicant.communicationId
	   * def attorneyCommId = serverResponse.attorney.communicationId
	  Given path '/internalapi/api/notification/SaveNotification'
      
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"applicant":{"communicationId":'#(applicantCommId)',"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":'#(attorneyCommId)',"email":'#(emailId)',"appId":'#(appId)',"emailContactTypeId":2,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"isInstantEmail":false,"appId":'#(appId)',"createdBy":"Tarun  Gupta"}
      When method post
	  Then status 200
	  And print response  	  
	  
@getTodayReferedEnforcementCount  		
Scenario: getTodayReferedEnforcementCount Data	  	
	    * def getCurrentDate =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		* def currentDate = getCurrentDate()
	  Given path '/internalapi/api/EnforcementDashboard/InFromLicensingQueue/'
	
	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      * def stringParam = "assignedDate~gte~datetime'"+currentDate+"T00-00-00'"
      And params  {filter:'#(stringParam)',page:1,sort:'applicationStatus-asc'}
     
      And request ""
	  When method get
	  Then status 200
	  And print response
	  * def totalEnfCount = response.total 
	  
	  
@ValidateGISReportPDF  		
Scenario: UpdateGISReportDecision Data
Given path '/internalapi/api/notification/Application/email/download/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request {"appId":'#(appId)',"workFlowStatus":1101,"isSubmit":true}
	  When method post
	  Then status 200
	
	  * match response == 'true'
	  
@GISReferToEnforcement  		
Scenario: GISReferToEnforcement Data

	Given path '/internalapi/api/licensing/GISReport/SaveGrossSalesReport'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request [{"id":'#(TypeId)',"type":'#(Type)',"typeName":'#(TypeName)',"address":'#(TypeAddress)',"approxDistance":'#(TypeApproxDistance)',"isReportReceived":false,"isSelected":true,"isSentToEnforcement":false,"isMailNotification":false,"isSent":null,"licenseId":'#(licenseId)',"appId":'#(appId)',"workFlowStatus":0,"isSubmit":false,"roleId":0,"workFlowCondition":0,"churchComments":null,"schoolComments":null,"comments":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}]
      When method Post
	  Then status 200
	  * match response == 'true'
	Given path '/internalapi/api/licensing/GISReport/ReferToEnforcement'
  	  And header Content-Type = 'application/json;'
     
      And header current-wfroleid = '4'
      And header authorization = 'Bearer ' + strToken
      And request {"id":'#(TypeId)',"type":'#(Type)',"typeName":'#(TypeName)',"address":'#(TypeAddress)',"approxDistance":'#(TypeApproxDistance)',"isReportReceived":false,"isSelected":true,"isSentToEnforcement":true,"isMailNotification":false,"isSent":null,"licenseId":'#(licenseId)',"appId":'#(appId)',"workFlowStatus":0,"isSubmit":false,"roleId":0,"workFlowCondition":0,"churchComments":'#(churchComments)',"schoolComments":'#(schoolComments)',"comments":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}
	  When method post
	  Then status 200
	* match response == 'true'	  	
	
@SaveAndSubmitSchedule500HearingWithNoOption  		
Scenario: SubmitSchedule500Hearing 
	
      Given path '/internalapi/api/licensing/hearing500/save'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"Test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
	    And print responseCode
	    When method post
	    Then match responseStatus == responseCode
	    * eval if(responseStatus == 200) karate.call('LicensesCommonMethods.feature@SubmitSchedule500HearingWithNoOption')
	   
	    
@SubmitSchedule500HearingWithNoOption  		
Scenario: SubmitSchedule500Hearing 	    
Given path '/internalapi/api/licensing/hearing500/submit'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request {"HearingLocation":{"Address":"","City":"","County":"","Location":"","Name":"","StateName":"","ZipCode":""},"EmailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"IsHearingRequired":false,"HearingReasonId":"2","Comments":"Test","AppId":'#(appId)',"HearingDate":null,"HearingLocationId":-1,"isSubmit":true}
	    
	    When method post
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse == 'true'
	   

@ExaminerReviewApprovalToFBPTQueue
Scenario: ExaminerReviewApprovalToFBPTQueue  
 # ********* Examiner Review Approval to FBPTQueue *********************
	 * def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
    Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense'
    	* def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 4
	    And request {"isFingerPrintsApproved":true,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":4,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(FormVersionId)',"formId":'#(formId)',"legalName":"Automation Automation","submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":null,"memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":1069,"appId":'#(appId)',"examinerId":1069,"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"4","product":'#(productName)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Send to Full Board Preview Team","value":3},"emailNotificationModel":{"applicant":{},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"taskId":1026,"newComments":"Test Comment","recommendedDecisionId":null}
	                
	   
	    When method post
	    Then status 200
   		* call read('LicensesCommonMethods.feature@checkApplicationStatus') {}
	   
	   
	   
@getAndValidateMemoData  		
Scenario: getAndValidateMemoData 	 
        * def numberWithCommas =
		""" 
		  function(x) {
   				 return x.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
		  }
		"""
Given path '/internalapi/api/licensing/memo/getPrepopulatedMemoByAppId/'+appId
	 
	    And header authorization = 'Bearer ' + strToken
	    And request ""
	    
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse.sourceOfFunds == 'RDC' 
	   * def resultTotalFees = numberWithCommas(totalFees);
	   * match serverResponse.totalCash == resultTotalFees+'.00'
	   * match serverResponse.city == '#(CityName)'
	   * match serverResponse.applicationId == ApplicationId




@ReviewDigestValidate
Scenario: ReviewDigestValidate 
	
	Given path 'internalapi/api/licensing/digest/getDigestPrepopulatedByAppId/'+appId+'/DigestNewApplicationTypeA'
	 
	    And header authorization = 'Bearer ' + strToken
	    And request ""
	    
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse.applicants[0].name contains prncipalName
	   * match serverResponse.appId == appId
	   * match serverResponse.applicationId == ApplicationId
	  
@SaveAndValidateMemoLinkData
Scenario: SaveAndValidateMemoLinkData 
	
	
	 Given path '/internalapi/api/application/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def formVerID = response.formVersionId
		  And print formVerID
		   And def formId = response.formId
		  And print formId
		   And def legalName = response.legalName
		  And print legalName
		  And def submitDate = response.submitDate
		  And print submitDate
		 
		  And def pastDueDate = response.pastDueDate
		  And print pastDueDate
		
		   And def appExaminerId = response.assignAppExaminer.appExaminerId
		  And print appExaminerId
		   And def examinerId = response.assignAppExaminer.examinerId
		  And print examinerId
		     And def assignDate = response.assignAppExaminer.assignDate
		  And print assignDate
		  And def licPermitTypeId = response.licePermitType.licPermitTypeId
		  And print licPermitTypeId
		  And def type = response.licePermitType.type
		  And print type
		  And def category = response.licePermitType.category
		  And print category
		  And def product = response.licePermitType.product
		  And print product
	 * def numberWithCommas =
		""" 
		  function(x) {
   				 return x.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
		  }
		"""	  
	Given path '/internalapi/api/licensing/memo/getPrepopulatedMemoByAppId/'+appId
	 
	    And header authorization = 'Bearer ' + strToken
	    And request ""
	    
	    When method get
	    Then status 200
	    And def serverResponse = response
	   * match serverResponse.applicants[0].name contains prncipalName
	   * match serverResponse.appId == appId
	   * match serverResponse.applicationId == ApplicationId
	   * def memoId = serverResponse.memoId
	   * def date = serverResponse.date
	   * def from = serverResponse.from
	   * def examiner = serverResponse.examiner
	   * def addressLine1 = serverResponse.addressLine1
	   * def addressLine2 = serverResponse.addressLine2
	   * def city = serverResponse.city
	   * def state = serverResponse.state
	   * def zipCode = serverResponse.zipCode
	   * def typeApplication = serverResponse.typeApplication
	   * def representative = serverResponse.representative
	   * def filedDate = serverResponse.filedDate
	   
	   * def leaseDate = serverResponse.leaseDate
	   * def totalCash = numberWithCommas(serverResponse.totalCash)
	   
	   * def totalDefered = serverResponse.totalDefered
	   * def sourceOfFunds = serverResponse.sourceOfFunds
	   * def createdBy = serverResponse.createdBy
	   * def createdDate = serverResponse.createdDate
	   * def representative = serverResponse.representative
	   * def filedDate = serverResponse.filedDate
	   
	   	  
	Given path '/internalapi/api/licensing/memo/getPrepopulatedMemoByAppId/'+appId
	    And header authorization = 'Bearer ' + strToken
	    And header Content-Type = 'text/javascript;application/json; charset=utf-8'
	    And header Accept = 'application/json; text/plain;'
	    And request {"appId":'#(appId)',"to":"","subject":"","date":'#(date)',"from":'#(from)',"examiner":'#(examiner)',"applicationId":'#(ApplicationId)',"tradeName":"","addressLine1":'#(addressLine1)',"addressLine2":'#(addressLine2)',"city":'#(city)',"state":'#(state)',"zipCode":'#(zipCode)',"temporaryPermit":"","typeApplication":'#(typeApplication)',"representative":'#(representative)',"filedDate":'#(filedDate)',"nameOfCommunityBoard":"","dateOfCommunityBoard":null,"protests":null,"support":null,"hearingDate":"N/A","licensingBoardRecommendationAction":"","principalPastLicensing":"","principalCurrentLicensing":"","adjucatedAdverseHistory":"","twoHundredFromSchool":"","premisesPastLicensing":"","premisesCurrentLicensing":"","pastAdverseHistory":"","premisesDescription":"","premisesMethodOfOperation":"","premisesFoodAvailable":"","leaseDate":'#(leaseDate)',"landlord":null,"tenant":"","term":"","rentAmount":"","sublease":"","assignment":"","consent":"","investment":"Check/Payment","totalCash":'#(totalCash)',"totalDefered":'#(totalDefered)',"sourceOfFunds":'#(sourceOfFunds)',"other":"","subjectTo":"","isActive":true, "createdBy":'#(createdBy)',"createdDate":'#(createdDate)',"modifiedBy":null,"modifiedDate":null,"questionsToBeConsidered":null,"newComments":"Test123","userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"wfRoleId":0,"application":{"applicationCategory":4,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(formVersionId)',"formId":'#(formId)',"legalName":'#(legalName)',"submitDate":'#(submitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(city)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":"6/1/2022","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":'#(appExaminerId)',"appId":'#(appId)',"examinerId":'#(examinerId)',"name":null,"assignDate":'#(assignDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(licPermitTypeId)',"type":"1","category":"4","product":'#(product)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(licPermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(modifiedDate)'}}
	    When method post
	    Then status 200
	    And def serverResponse = response   
	   
	   
	  
@AssignFBPTLicToLB
Scenario: AssignFBPTLicToLB  
 # ********* Examiner Review Approval to FBPTQueue *********************
	 * def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
		  
	 * def summisionDate1 =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
		  
	 Given path '/internalapi/api/application/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def formVerID = response.formVersionId
		  And print formVerID
		   And def formId = response.formId
		  And print formId
		   And def legalName = response.legalName
		  And print legalName
		  And def submitDate = response.submitDate
		  And print submitDate
		 
		  And def pastDueDate = response.pastDueDate
		  And print pastDueDate
		
		   And def appExaminerId = response.assignAppExaminer.appExaminerId
		  And print appExaminerId
		   And def examinerId = response.assignAppExaminer.examinerId
		  And print examinerId
		     And def assignDate = response.assignAppExaminer.assignDate
		  And print assignDate
		  And def licPermitTypeId = response.licePermitType.licPermitTypeId
		  And print licPermitTypeId
		  And def type = response.licePermitType.type
		  And print type
		  And def category = response.licePermitType.category
		  And print category
		  And def product = response.licePermitType.product
		  And print product

	    	  
    Given path '/internalapi/api/licensing/fbpt-review/NewLicense'
    	* def formatedSumbitDate = summisionDate()
    	* def formatedSumbitDate1 = summisionDate1()
	    And header authorization = 'Bearer ' + strToken
	    And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;'
	    And request {"isDisable500LB_FBPT":false,"isSubmit":true,"application":{"applicationCategory":1,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(formVerID)',"formId":'#(formId)',"legalName":'#(legalName)',"submitDate":'#(submitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1040,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":'#(pastDueDate)',"memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":'#(appExaminerId)',"appId":'#(appId)',"examinerId":'#(examinerId)',"name":null,"assignDate":'#(assignDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(licPermitTypeId)',"type":"1","category":"1","product":'#(product)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(licPermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate1)'},"appId":'#(appId)',"applicationType":1,"decisionType":{"name":"Redirect to LB","value":1,"isChecked":null},"hasErrors":[],"taskId":1040,"newComments":"Sending to LB Desc"}
	    When method post
	    Then status 200
	    * match response == 'true'
   		
    	Given path '/internalapi/api/comment/Application/save'
    	* def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	   
	    And request {"description":"Sending to LB Desc","acaId":'#(appId)',"acatype":"Application","bureau":"License","bureauId":1}
	   
	   
	   #{"isDisable500LB_FBPT":false,"isSubmit":true,"application":{"applicationCategory":1,"appId":111841,"applicationId":"NA-0111-22-2108294","licePermitTypeId":null,"applicationTypeId":1,"formVersionId":1614,"formId":1165,"legalName":"Automation20220531040039Automation","submitDate":"2022-05-31T04:00:42.627","isGISRequired":null,"licenseDescription":"Restaurant-Beer","recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":"New York","priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1040,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":"6/7/2022 12:00:00 AM","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":6910,"appId":111841,"examinerId":1069,"name":null,"assignDate":"2022-05-31T04:00:43.997","isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"1","product":"Beer","class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":"2022-05-31T04:00:45.22"},"appId":111841,"applicationType":1,"decisionType":{"name":"Redirect to LB","value":1,"isChecked":null},"hasErrors":[],"taskId":1040,"newComments":"Sending to LB Desc"}
	   #{"isDisable500LB_FBPT":false,"isSubmit":true,"application":{"applicationCategory":1,"appId":111851,"applicationId":"NA-0111-22-2108304","licePermitTypeId":null,"applicationTypeId":1,"formVersionId":1614,"formId":1165,"legalName":"Automation20220531052437Automation","submitDate":"2022-05-31T05:24:42.803","isGISRequired":null,"licenseDescription":"Restaurant-Beer","recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":"New York","priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1040,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":null,"isAllDeficienciesMet":null,"pastDueDate":"6\/7\/2022 12:00:00 AM","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":6920,"appId":111851,"examinerId":1069,"name":null,"assignDate":"2022-05-31T05:24:45.32","isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"1","product":"Beer","class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":"2022-05-31T05:24:48.904"},"appId":111851,"applicationType":1,"decisionType":{"name":"Redirect to LB","value":1,"isChecked":null},"hasErrors":[],"taskId":1040,"newComments":"Sending to LB Desc"}
	    When method post
	    Then status 200
	   And print response
	  
	  
	  

@ExaminerReviewApprovalWithAllDefineDeficiencies
Scenario: ExaminerReviewApprovalWithAllDefineDeficiencies  
 # ********* ExaminerReviewApprovalWithAllDefineDeficiencies *********************
	 * def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
	Given path '/internalapi/api/application/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def formVerID = response.formVersionId
		  And print formVerID
		   And def formId = response.formId
		  And print formId
		   And def legalName = response.legalName
		  And print legalName
		  And def submitDate = response.submitDate
		  And print submitDate
		 
		  And def pastDueDate = response.pastDueDate
		  And print pastDueDate
		
		   And def appExaminerId = response.assignAppExaminer.appExaminerId
		  And print appExaminerId
		   And def examinerId = response.assignAppExaminer.examinerId
		  And print examinerId
		     And def assignDate = response.assignAppExaminer.assignDate
		  And print assignDate
		  And def licPermitTypeId = response.licePermitType.licPermitTypeId
		  And print licPermitTypeId
		  And def type = response.licePermitType.type
		  And print type
		  And def category = response.licePermitType.category
		  And print category
		  And def product = response.licePermitType.product
		  And print product	  
    Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense'
    	* def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 4
	    And request {"isFingerPrintsApproved":true,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":3,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(formVersionId)',"formId":'#(formId)',"legalName":'#(legalName)',"submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":false,"isAllDeficienciesMet":null,"pastDueDate":"1/1/1970 12:00:00 AM","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":'#(appExaminerId)',"appId":'#(appId)',"examinerId":'#(examinerId)',"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"3","product":'#(productName)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Define Deficiencies","value":1},"emailNotificationModel":{"applicant":{"communicationId":64788,"email":"Automation@test.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":64791,"email":"Automation@test.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"notificationTypeId":2028,"isInstantEmail":false},"hasErrors":[],"taskId":1026,"newComments":"DefineDeficiencies Desc","erDeficiencies":{"selectInput":{"fromFields":[{"id":4,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt."},{"id":5,"label":"Submit a copy of the Secretary of State filing receipt for the corp/LLC/LLP"},{"id":6,"label":"Provide a copy of the corporate minutes for the applicant entity"},{"id":7,"label":"Provide a copy of the LLC operating agreement for the applicant entity"},{"id":8,"label":"Provide a clear organizational chart for the applicant entity.  Each holding corporation should be listed.  All principals of each entity should be listed along with their percentage of ownership."},{"id":9,"label":"Premises address does not match the address listed on lease."},{"id":10,"label":"Premises address does not match the address listed on the bill of sale."},{"id":11,"label":"Premises address does not match the address listed on the deed."},{"id":12,"label":"Premises address must be written the same on all documents and must be the physical location of the premises (not the mailing address)."},{"id":13,"label":"Submit a Notice of Appearance or the attorney or representative."},{"id":14,"label":"Entity owning real property does not match applicant name – A lease between the two parties is required and must be submitted.  "},{"id":15,"label":"The lease must run the full term of the license period (please take processing time into consideration when determining the end date of the lease).  Provide either a new lease document or an amendment/rider to the existing one (signed by both landlord and tenant).  "},{"id":16,"label":"Landlord name must be the name shown on the deed."},{"id":17,"label":"All principals of the landlord entity must be listed."},{"id":18,"label":"To verify ownership, submit a copy of the deed."},{"id":19,"label":"The source of ALL funds (cash and borrowed) must be listed on this form."},{"id":20,"label":"Submit financial documentation proving the availability of the funds listed.  You must submit 3 consecutive months-worth of statements from checking or savings accounts showing the availability of the funds at the time they were expended."},{"id":21,"label":"Submit a copy of all executed loan agreements.  "},{"id":22,"label":"Provide the name and address of all on premises liquor establishments located within 500 feet of your establishment."},{"id":23,"label":"Provide a statement addressing why you believe it would be in the public's interest to issue this license."},{"id":24,"label":"Please complete the Statement of Area Plan form"},{"id":25,"label":"Provide a personal questionnaire for __________________."},{"id":26,"label":"Please list gender on _________'s personal questionnaire."},{"id":27,"label":"Provide residence addresses for the last 5 consecutive years."},{"id":28,"label":"Provide employment information for the last 5 consecutive years.  If unemployed for any period of time during the past 5 years, that must also be reflected."},{"id":29,"label":"________________ has/had license history with the Authority.  Amend question five to reflect all license history."},{"id":30,"label":"The Department of Criminal Justice Services has advised us that ________________________ has a conviction record. Amend question 6b to reflect the correct answer and provide a signed statement as to why the question was originally answered no.  Submit a Certificate of Disposition for all arrests and convictions. If convicted of a felony, you must submit a Certificate of Relief from Disabilities."},{"id":31,"label":"Amend the diagram labeling all rooms and bars"},{"id":32,"label":"Amend the diagram to include the food prep area"},{"id":33,"label":"Provide a diagram of the basement"},{"id":34,"label":"Provide a block plot diagram"},{"id":35,"label":"Add the outside area to the diagram "},{"id":36,"label":"Submit color photos of the interior of the premises including all dining areas, the bar and at least one of the kitchen.  Place the serial number on the back of each photo."},{"id":37,"label":"Submit one color photo of the front exterior of the premises.  Place the serial number on the back of the photo."},{"id":38,"label":"Submit color photos of any outside area (deck, patio, yard) to be licensed.  The photos must show how the area is contained (fencing, shrubbery, roping off).  Place the serial number on the back of the photos."},{"id":39,"label":"Provide a color photo of the applicant (no smaller than passport size) for _______________."},{"id":40,"label":"Provide a copy of ____________'s photo identification."},{"id":41,"label":"Submit a copy of the menu."},{"id":42,"label":"Provide proof of citizenship for _________________."},{"id":43,"label":"You have listed 1 restroom.  The Rules of the State Liquor Authority require 2 separate restrooms for both sexes.  Please submit a request to the Authority asking for a waiver of the 2-restroom rule.  You must explain why you believe one restroom is sufficient for the operation of your establishment."},{"id":44,"label":"Submit a copy of the maximum occupancy certificate."},{"id":45,"label":"______________________ needs to be fingerprinted. "},{"id":123,"label":"Additional Funds Required"},{"id":129,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC's dba name."},{"id":130,"label":"Provide a copy of the business certificate from the county clerk for your dba name."},{"id":131,"label":"Provide your federal tax identification number."},{"id":132,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department."},{"id":133,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly."},{"id":134,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly."},{"id":135,"label":"Provide a signed Bond Rider amending _______."},{"id":136,"label":"Provide Worker's Compensation and Disability Benefits insurance provider names and policy numbers."},{"id":137,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee."},{"id":138,"label":"Submit a copy of the Newspaper Affidavit(s)."},{"id":139,"label":"Provide your TTB permit."},{"id":140,"label":"Surrender of the current license in effect."},{"id":141,"label":"Make the edits listed below to the curriculum."},{"id":142,"label":"The submitted Curriculum generally covers the required topics. However,  the below changes must be made to ensure that the persons taking the course understand their rights, obligations, and liabilities under New York law."},{"id":143,"label":"The licensee's and server's responsibility to not sell, deliver or give alcohol to someone under the age of 21 (ABC Law 65)."},{"id":144,"label":"The licensee's and server's responsibility when serving more than one drink to an individual to be aware of any redelivery by the legal patron (on-premises only)."},{"id":145,"label":"The licensee's and server's responsibility to reasonably supervise the premises."},{"id":146,"label":"The licensee's and server's right to refuse to sell, including but not limited to, an underage patron, an intoxicated patron, or a patron without proper identification."},{"id":147,"label":"The licensee's and server's burden to establish that a delivery of alcohol was made in a reasonable reliance upon written evidence of age."},{"id":148,"label":"The forms of identification which may be legally accepted as written evidence of age (ABC Law 65-b.2)."},{"id":149,"label":"Key features of the valid forms of identification and the way false and fraudulent forms of identification may be detected."},{"id":150,"label":"Devices and manuals which may be used to aid in the detection of false and fraudulent written evidence of age, and information regarding the way such devises and manuals may be obtained."},{"id":151,"label":"The criminal liabilities and penalties for both the individual and the establishment for unlawfully dealing with a child (Penal Law 260.20)."},{"id":152,"label":"The civil liabilities, general liabilities, responsibilities and general obligations (General Obligations Law 11-100 and 11-101)."},{"id":153,"label":"Firsthand accounts from the public illustrating the consequences of the failure of licensees and/or servers to operate in a safe, legal and responsible manner. (i.e., MADD, RID, and Shattered Lives)."},{"id":154,"label":"Provide the New York State Liquor Authority with access to the online course for review."},{"id":155,"label":"Remove the following content from the applicants' website:"},{"id":156,"label":"Provide the legal name of the applicant."},{"id":157,"label":"Provide the mailing address of the applicant."},{"id":158,"label":"Provide the federal id number of the applicant."},{"id":159,"label":"Provide the applicant's contact phone number."},{"id":160,"label":"Provide the applicant's email address."},{"id":161,"label":"Provide the director's name."},{"id":162,"label":"Provide the director's phone number."},{"id":163,"label":"Provide the director's email address."},{"id":164,"label":"Designate the format of the course. The Alcoholic Beverage Control Law states that the course be taught via online, classroom, or distance learning. An ATAP course can be offered in multiple formats."}],"toFields":[{"id":-1,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt.","originalId":4},{"id":-2,"label":"Submit a copy of the Secretary of State filing receipt for the corp/LLC/LLP","originalId":5},{"id":-3,"label":"Provide a copy of the corporate minutes for the applicant entity","originalId":6},{"id":-4,"label":"Provide a copy of the LLC operating agreement for the applicant entity","originalId":7},{"id":-5,"label":"Provide a clear organizational chart for the applicant entity.  Each holding corporation should be listed.  All principals of each entity should be listed along with their percentage of ownership.","originalId":8},{"id":-6,"label":"Premises address does not match the address listed on lease.","originalId":9},{"id":-7,"label":"Premises address does not match the address listed on the bill of sale.","originalId":10},{"id":-8,"label":"Premises address does not match the address listed on the deed.","originalId":11},{"id":-9,"label":"Premises address must be written the same on all documents and must be the physical location of the premises (not the mailing address).","originalId":12},{"id":-10,"label":"Submit a Notice of Appearance or the attorney or representative.","originalId":13},{"id":-11,"label":"Entity owning real property does not match applicant name – A lease between the two parties is required and must be submitted.  ","originalId":14},{"id":-12,"label":"The lease must run the full term of the license period (please take processing time into consideration when determining the end date of the lease).  Provide either a new lease document or an amendment/rider to the existing one (signed by both landlord and tenant).  ","originalId":15},{"id":-13,"label":"Landlord name must be the name shown on the deed.","originalId":16},{"id":-14,"label":"All principals of the landlord entity must be listed.","originalId":17},{"id":-15,"label":"To verify ownership, submit a copy of the deed.","originalId":18},{"id":-16,"label":"The source of ALL funds (cash and borrowed) must be listed on this form.","originalId":19},{"id":-17,"label":"Submit financial documentation proving the availability of the funds listed.  You must submit 3 consecutive months-worth of statements from checking or savings accounts showing the availability of the funds at the time they were expended.","originalId":20},{"id":-18,"label":"Submit a copy of all executed loan agreements.  ","originalId":21},{"id":-19,"label":"Provide the name and address of all on premises liquor establishments located within 500 feet of your establishment.","originalId":22},{"id":-20,"label":"Provide a statement addressing why you believe it would be in the public's interest to issue this license.","originalId":23},{"id":-21,"label":"Please complete the Statement of Area Plan form","originalId":24},{"id":-22,"label":"Provide a personal questionnaire for __________________.","originalId":25},{"id":-23,"label":"Please list gender on _________'s personal questionnaire.","originalId":26},{"id":-24,"label":"Provide residence addresses for the last 5 consecutive years.","originalId":27},{"id":-25,"label":"Provide employment information for the last 5 consecutive years.  If unemployed for any period of time during the past 5 years, that must also be reflected.","originalId":28},{"id":-26,"label":"________________ has/had license history with the Authority.  Amend question five to reflect all license history.","originalId":29},{"id":-27,"label":"The Department of Criminal Justice Services has advised us that ________________________ has a conviction record. Amend question 6b to reflect the correct answer and provide a signed statement as to why the question was originally answered no.  Submit a Certificate of Disposition for all arrests and convictions. If convicted of a felony, you must submit a Certificate of Relief from Disabilities.","originalId":30},{"id":-28,"label":"Amend the diagram labeling all rooms and bars","originalId":31},{"id":-29,"label":"Amend the diagram to include the food prep area","originalId":32},{"id":-30,"label":"Provide a diagram of the basement","originalId":33},{"id":-31,"label":"Provide a block plot diagram","originalId":34},{"id":-32,"label":"Add the outside area to the diagram ","originalId":35},{"id":-33,"label":"Submit color photos of the interior of the premises including all dining areas, the bar and at least one of the kitchen.  Place the serial number on the back of each photo.","originalId":36},{"id":-34,"label":"Submit one color photo of the front exterior of the premises.  Place the serial number on the back of the photo.","originalId":37},{"id":-35,"label":"Submit color photos of any outside area (deck, patio, yard) to be licensed.  The photos must show how the area is contained (fencing, shrubbery, roping off).  Place the serial number on the back of the photos.","originalId":38},{"id":-36,"label":"Provide a color photo of the applicant (no smaller than passport size) for _______________.","originalId":39},{"id":-37,"label":"Provide a copy of ____________'s photo identification.","originalId":40},{"id":-38,"label":"Submit a copy of the menu.","originalId":41},{"id":-39,"label":"Provide proof of citizenship for _________________.","originalId":42},{"id":-40,"label":"You have listed 1 restroom.  The Rules of the State Liquor Authority require 2 separate restrooms for both sexes.  Please submit a request to the Authority asking for a waiver of the 2-restroom rule.  You must explain why you believe one restroom is sufficient for the operation of your establishment.","originalId":43},{"id":-41,"label":"Submit a copy of the maximum occupancy certificate.","originalId":44},{"id":-42,"label":"______________________ needs to be fingerprinted. ","originalId":45},{"id":-43,"label":"Additional Funds Required","originalId":123},{"id":-44,"label":"Provide a copy of the Assumed Name Certificate from the Secretary of State for your corporation/LLC's dba name.","originalId":129},{"id":-45,"label":"Provide a copy of the business certificate from the county clerk for your dba name.","originalId":130},{"id":-46,"label":"Provide your federal tax identification number.","originalId":131},{"id":-47,"label":"Provide a copy of your Certificate of Authority from the New York State Tax Department.","originalId":132},{"id":-48,"label":"Provide an amended Certificate of Authority – the name must match the applicant name exactly.","originalId":133},{"id":-49,"label":"Provide an amended Certificate of Authority – the address must match the premises address exactly.","originalId":134},{"id":-50,"label":"Provide a signed Bond Rider amending _______.","originalId":135},{"id":-51,"label":"Provide Worker's Compensation and Disability Benefits insurance provider names and policy numbers.","originalId":136},{"id":-52,"label":"Provide an inventory of the alcoholic beverages you will be purchasing from the current licensee.","originalId":137},{"id":-53,"label":"Submit a copy of the Newspaper Affidavit(s).","originalId":138},{"id":-54,"label":"Provide your TTB permit.","originalId":139},{"id":-55,"label":"Surrender of the current license in effect.","originalId":140},{"id":-56,"label":"Make the edits listed below to the curriculum.","originalId":141},{"id":-57,"label":"The submitted Curriculum generally covers the required topics. However,  the below changes must be made to ensure that the persons taking the course understand their rights, obligations, and liabilities under New York law.","originalId":142},{"id":-58,"label":"The licensee's and server's responsibility to not sell, deliver or give alcohol to someone under the age of 21 (ABC Law 65).","originalId":143},{"id":-59,"label":"The licensee's and server's responsibility when serving more than one drink to an individual to be aware of any redelivery by the legal patron (on-premises only).","originalId":144},{"id":-60,"label":"The licensee's and server's responsibility to reasonably supervise the premises.","originalId":145},{"id":-61,"label":"The licensee's and server's right to refuse to sell, including but not limited to, an underage patron, an intoxicated patron, or a patron without proper identification.","originalId":146},{"id":-62,"label":"The licensee's and server's burden to establish that a delivery of alcohol was made in a reasonable reliance upon written evidence of age.","originalId":147},{"id":-63,"label":"The forms of identification which may be legally accepted as written evidence of age (ABC Law 65-b.2).","originalId":148},{"id":-64,"label":"Key features of the valid forms of identification and the way false and fraudulent forms of identification may be detected.","originalId":149},{"id":-65,"label":"Devices and manuals which may be used to aid in the detection of false and fraudulent written evidence of age, and information regarding the way such devises and manuals may be obtained.","originalId":150},{"id":-66,"label":"The criminal liabilities and penalties for both the individual and the establishment for unlawfully dealing with a child (Penal Law 260.20).","originalId":151},{"id":-67,"label":"The civil liabilities, general liabilities, responsibilities and general obligations (General Obligations Law 11-100 and 11-101).","originalId":152},{"id":-68,"label":"Firsthand accounts from the public illustrating the consequences of the failure of licensees and/or servers to operate in a safe, legal and responsible manner. (i.e., MADD, RID, and Shattered Lives).","originalId":153},{"id":-69,"label":"Provide the New York State Liquor Authority with access to the online course for review.","originalId":154},{"id":-70,"label":"Remove the following content from the applicants' website:","originalId":155},{"id":-71,"label":"Provide the legal name of the applicant.","originalId":156},{"id":-72,"label":"Provide the mailing address of the applicant.","originalId":157},{"id":-73,"label":"Provide the federal id number of the applicant.","originalId":158},{"id":-74,"label":"Provide the applicant's contact phone number.","originalId":159},{"id":-75,"label":"Provide the applicant's email address.","originalId":160},{"id":-76,"label":"Provide the director's name.","originalId":161},{"id":-77,"label":"Provide the director's phone number.","originalId":162},{"id":-78,"label":"Provide the director's email address.","originalId":163},{"id":-79,"label":"Designate the format of the course. The Alcoholic Beverage Control Law states that the course be taught via online, classroom, or distance learning. An ATAP course can be offered in multiple formats.","originalId":164}],"isRewritable":true,"rewriteLabel":"Edit Deficiency:","additionalComments":"","srclabel":"Select Deficiencies","dstlabel":"Add to Notification","additionalLabel":"Add Additional Deficiencies:"}}}
	    When method post
	    Then status 200
	   * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}	

@ExaminerReviewApprovalWithOneDefineDeficiencies
Scenario: ExaminerReviewApprovalWithOneDefineDeficiencies  
 # ********* ExaminerReviewApprovalWithAllDefineDeficiencies *********************
	 * def summisionDate =
		"""
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } """
	Given path '/internalapi/api/application/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    And def formVerID = response.formVersionId
		  And print formVerID
		   And def formId = response.formId
		  And print formId
		   And def legalName = response.legalName
		  And print legalName
		  And def submitDate = response.submitDate
		  And print submitDate
		 
		  And def pastDueDate = response.pastDueDate
		  And print pastDueDate
		
		   And def appExaminerId = response.assignAppExaminer.appExaminerId
		  And print appExaminerId
		   And def examinerId = response.assignAppExaminer.examinerId
		  And print examinerId
		     And def assignDate = response.assignAppExaminer.assignDate
		  And print assignDate
		  And def licPermitTypeId = response.licePermitType.licPermitTypeId
		  And print licPermitTypeId
		  And def type = response.licePermitType.type
		  And print type
		  And def category = response.licePermitType.category
		  And print category
		  And def product = response.licePermitType.product
		  And print product	  
    Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense'
    	* def formatedSumbitDate = summisionDate()
	    And header authorization = 'Bearer ' + strToken
	    And header current-wfroleid = 4
	    And request {"isFingerPrintsApproved":true,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":3,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(formVerID)',"formId":'#(formId)',"legalName":'#(legalName)',"submitDate":'#(formatedSumbitDate)',"isGISRequired":null,"licenseDescription":'#(description)',"recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":'#(CityName)',"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":false,"isAllDeficienciesMet":null,"pastDueDate":"1/1/1970 12:00:00 AM","memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":'#(appExaminerId)',"appId":'#(appId)',"examinerId":'#(examinerId)',"name":null,"assignDate":'#(formatedSumbitDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(mainLicensePermitTypeId)',"type":"1","category":"3","product":'#(productName)',"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(mainLicensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(formatedSumbitDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Define Deficiencies","value":1},"emailNotificationModel":{"applicant":{"communicationId":64788,"email":"Automation@test.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":64791,"email":"Automation@test.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"notificationTypeId":2028,"isInstantEmail":false},"hasErrors":[],"taskId":1026,"newComments":"DefineDeficiencies Desc","erDeficiencies":{"selectInput":{"fromFields":[{"id":4,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt."}],"toFields":[{"id":-1,"label":"As the applicant is a corporation, LLC or LLP, the applicant name must be the same as the name on the filing receipt.","originalId":4}],"isRewritable":true,"rewriteLabel":"Edit Deficiency:","additionalComments":"","srclabel":"Select Deficiencies","dstlabel":"Add to Notification","additionalLabel":"Add Additional Deficiencies:"}}}
	    When method post
	    Then status 200
	   * call read('LicensesCommonMethods.feature@checkApplicationStatus') {}	     
	   
@SelectUploadTextConditionsFromConditonallyApprovedLic
Scenario: SelectUploadTextConditionsFromConditonallyApprovedLic 
	* def expirationDateFunc =
		  """
		  function(days) {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd");
		    var date = new java.util.Date();
		    
		    var dayAfter = new java.util.Date(date.getTime() + java.util.concurrent.TimeUnit.DAYS.toMillis( days));
		    return sdf.format(dayAfter);
		  } 
		  """ 
  	  * def expirationDate = expirationDateFunc(90)
  	  * def effectiveDate = EffDate()
  	  Given path '/internalapi/api/licensing/conditionReview/getConditionsInfo/'+appId
    	* def dbSts = db.cleanHeap()
  	   And header authorization = 'Bearer ' + strToken
  	  And header Content-Type = 'application/json'
      And header current-wfroleid = '3'
      And header Accept = 'application/json'
       And request ""
	  When method get
	  Then status 200
	  And print response
	  * def appConditionId = response.conditionReview[0].appConditionId 
	  * def conditionDefinedDate = response.conditionReview[0].conditionDefinedDate 
	  * def conditionId = response.conditionReview[0].conditionId
	   * def conditionDescription = response.conditionReview[0].conditionDescription
	    * def conditionDescriptionDetail = response.conditionReview[0].conditionDescriptionDetail
	     * def responseDueDate = response.conditionReview[0].responseDueDate
	  * def taskDecision = response.conditionReview[0].taskDecision
	     * def taskId = response.conditionReview[0].taskId 
	Given path '/internalapi/api/licensing/conditionReview/saveConditionsInfo'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      * def responseDueDate = expirationDate + "T00:00:00"
      And print isConditionMet
      * def payload = ""
     * def payloadWithYesConditionMet = {"effectiveDate":'#(effectiveDate)',"expirationDate":'#(expirationDate)',"conditionReview":[{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":'#(conditionId)',"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":true,"responseReceived":["adding Test Response message"],"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":-1,"conditionDescriptionDetail":"test","conditionDescription":"test","createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":true,"responseReceived":["Automation test"],"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}],"appId":'#(appId)',"comment":"test","taskId":'#(taskId)',"taskDecision":'#(taskDecision)',"isSaveResponse":false,"isSubmit":true,"emailNotificationModel":{"applicant":{"communicationId":6712,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":6715,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}}}
    * def payloadWithNoConditionMet = {"effectiveDate":'#(effectiveDate)',"expirationDate":'#(expirationDate)',"conditionReview":[{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":'#(conditionId)',"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":false,"responseReceived":["adding Test Response message"],"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":-1,"conditionDescriptionDetail":"test","conditionDescription":"test","createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":false,"responseReceived":["Automation test response"],"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}],"appId":'#(appId)',"comment":"test","taskId":'#(taskId)',"taskDecision":'#(taskDecision)',"isSaveResponse":false,"isSubmit":true,"emailNotificationModel":{"applicant":{"communicationId":6712,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":6715,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}}}
    * def payloadWithoutConditionMet = {"effectiveDate":'#(effectiveDate)',"expirationDate":'#(expirationDate)',"conditionReview":[{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":'#(conditionId)',"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":null,"responseReceived":["adding Test Response message"],"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}],"appId":'#(appId)',"comment":"Test","taskId":'#(taskId)',"taskDecision":'#(taskDecision)',"isSaveResponse":false,"isSubmit":true,"emailNotificationModel":{"applicant":{"communicationId":6704,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":1,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":6707,"email":"sbandi@svam.com","appId":'#(appId)',"emailContactTypeId":2,"isChecked":true,"roleId":0,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}}}
    * def payloadWithPartialConditionMet = {"effectiveDate":'#(effectiveDate)',"expirationDate":'#(expirationDate)',"conditionReview":[{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":'#(conditionId)',"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":true,"responseReceived":null,"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":2,"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"":false,"responseReceived":null,"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},{"appConditionId":'#(appConditionId)',"appId":'#(appId)',"conditionId":3,"conditionDescriptionDetail":'#(conditionDescriptionDetail)',"conditionDescription":'#(conditionDescriptionDetail)',"createdBy":"tgupta@svam.com","conditionDefinedDate":'#(conditionDefinedDate)',"responseDueDate":'#(responseDueDate)',"isConditionMet":true,"responseReceived":null,"attachedDocumentIds":null,"responseReceivedJson":null,"attachDocument":null,"taskOption":null,"documents":[],"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":'#(taskId)',"taskRoleId":0,"taskDecision":'#(taskDecision)',"isActive":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}],"appId":'#(appId)',"comment":"test","taskId":'#(taskId)',"taskDecision":'#(taskDecision)',"isSaveResponse":false,"isSubmit":false,"emailNotificationModel":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"automation@svam.com","appId":'#(appId)',"emailContactTypeId":0,"isChecked":true,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}}}
    * eval if (isConditionMet == true) payload = payloadWithYesConditionMet
    * eval if (isConditionMet == false) payload = payloadWithNoConditionMet
    * eval if (isConditionMet == null) payload = payloadWithoutConditionMet
    #* eval if (isConditionMet == 'Partial') payload = payloadWithPartialConditionMet
    And request payload  
    And print payload
      When method post
	  Then status 200
	  And print response
	  * match response == 'true'
	  	   	  
@AddLicenseClaimingQueue
Scenario: AddLicenseClaimingQueue     
	# ********* LB Claiming Queue  ********************* 
 
    Given path 'internalapi/api/licensing/claiming-queue/add/'+appId +'/1069'
    And header authorization = 'Bearer ' + strToken
    And header current-wfroleid = 5
    And request {}
    When method post
    Then status 200
    And def serverResponse = response
    And print serverResponse	  	   	  
    
@SaveReasonHiglyDeficient
Scenario: SaveReasonHiglyDeficient 

    Given path '/internalapi/api/licensing/app/save'
    And header authorization = 'Bearer ' + strToken
    
    And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":'#(ApplicationId)',"formName":'#(licenseName)',"formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":null,"formCategory":{},"formCategoryId":null,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1842,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1843,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1851,"key":"","label":"Title","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2232,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2233,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2234,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1200,"sectionName":"","key":"0","label":"Applicant Statement","order":9,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1957,"key":"","label":"By what right does the applicant have possession of the premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1958,"key":"","label":"Explain","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1959,"key":"","label":"Do the terms of the lease or other arrangement require the applicant to provide any consideration based on a percentage of the receipts of the business?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1960,"key":"","label":"If yes, list the section/page of the lease this information can be found","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1961,"key":"","label":"Does or will anyone other than the applicant/principals share on a percentage basis or in any way in the receipts, losses, or deficiencies of the business to any extent whatsoever","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1226,"sectionName":"","key":"0","label":"Right to Premises","order":5,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1685,"key":"","label":"First Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1686,"key":"","label":"Middle Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1687,"key":"","label":"Last Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"1 wall street","fieldID":1697,"key":"","label":"Address Line 1/ POB #","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1698,"key":"","label":"Address Line 2","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":'#(CityName)',"fieldID":1699,"key":"","label":"City","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1700,"key":"","label":"State/Region","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"dropdown","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"10011","fieldID":1701,"key":"","label":"Zip/Postal Code","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1754,"key":"","label":"Address","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1934,"key":"","label":"Nature of Interest","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1935,"key":"","label":"Date acquired","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1218,"sectionName":"","key":"0","label":"Other Interested","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1933,"key":"","label":"Signature","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1936,"key":"","label":"Date","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1239,"sectionName":"","key":"0","label":"Bulletin 254","order":10,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2053,"key":"","label":"Describe the area where the premises is to be located","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2054,"key":"","label":"State what the area is zoned for","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2055,"key":"","label":"Provide a description of the premises to be licensed. Describe all building/structures that will be utilized in business operations including the number of floors in each.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2056,"key":"","label":"has the building/premises been known by any other address?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2057,"key":"","label":"If yes, please Specify","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2058,"key":"","label":"has the premises to be licensed and or any other floor in the building been previously licensed or currently licensed to traffic in alcoholic beverages?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2059,"key":"","label":"What was the prior use of the premises to be licensed?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2060,"key":"","label":"Does the proposed location of the business comply with all state and local regulations and zoning codes?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2061,"key":"","label":"is there interior access to any other floor that will not be part of the licensed premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2062,"key":"","label":"if yes, list floor and means of access to each floor.","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2063,"key":"","label":"Does any other person have access to this area?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2064,"key":"","label":"where will the alcohol be stored","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2065,"key":"","label":"if applying for a farm winery license, special farm winery license or micro winery license, the premises must be located on a farm. In the box below, please provide a detailed description of the agricultural production that qualifies the premises as a farm","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1248,"sectionName":"","key":"0","label":"Premises Questionnaire","order":7,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1988,"key":"","label":"Will any other business of any kind be conducted on said premises?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1989,"key":"","label":"How many Employees?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1990,"key":"","label":"If answer is 0, provide explanation","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1991,"key":"","label":"Workers' Compensation Carrier Name and Policy Number?","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1992,"key":"","label":"Disability Insurance Carrier name and policy Number","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2050,"key":"","label":"Check all activities the business will engage in","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1249,"sectionName":"","key":"0","label":"Method of Operation","order":8,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2072,"key":"","label":"Real Property","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2073,"key":"","label":"Purchase/Contract Price of Business","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2074,"key":"","label":"Renovations/Improvement Costs","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2075,"key":"","label":"Miscellaneous","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":3,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2076,"key":"","label":"Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":4,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2077,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":5,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2078,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":6,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2079,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":7,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2080,"key":"","label":"Total Cash","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":8,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2081,"key":"","label":"Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":9,"controlType":"label","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2082,"key":"","label":"Source of Funds","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":10,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2083,"key":"","label":"Personal Questionnaire attached","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":11,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2084,"key":"","label":"Dollar Amount","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":12,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2085,"key":"","label":"Total Borrowed","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":13,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2086,"key":"","label":"Total Investment","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":14,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2087,"key":"","label":"Have all investors been disclosed in this application","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":15,"controlType":"radio","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1253,"sectionName":"","key":"0","label":"Financial Disclosure","order":6,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"subSections":[],"sectionFieldOrders":[]}],"formVersionId":1231,"version":7,"licenseDescription":"","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":true,"showVehicles":false,"showSchedule":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2,"Landlord Identification":3,"Personal Questionnaire":4},"staticTaborder":["Applicant Information","Principal","Representative","Landlord Identification","Personal Questionnaire"],"showPQ":true}
    When method post
    Then status 200

	Given path '/internalapi/api/application/saveReasonHiglyDeficient'
  	  And header Content-Type = 'application/json'
  	  And header current-wfroleid = '3'
      And header authorization = 'Bearer ' + strToken
      * def reason = LicensePermitId + " Automation Highly Deficient"
      And request {"appId":'#(appId)',"isHighlyDeficient":true,"reasons":'#(reason)',"comments":'#(reason)'}
	  When method post
	  Then status 200
	  And print response
	  * match response == 'true'


@getAndValidateReasonHiglyDeficient
Scenario: getAndValidateReasonHiglyDeficient 

    Given path 'internalapi/api/application/getReasonHiglyDeficient'
    And header authorization = 'Bearer ' + strToken
    And params  {appId:'#(appId)'}
    And request ""
	  When method get
	  Then status 200
	  And print response
	  * match response.comments == reason
      * match response.reasons == reason
      * match response.isHighlyDeficient == true
  
	  	  
	  	
@SumbitCCApplication
Scenario: SumbitCCApplication 
	Given path '/internalapi/api/application/saveReasonHiglyDeficient'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"appId":'#(appId)',"isHighlyDeficient":false,"reasons":null,"comments":null}
	  When method post
	  Then status 200
	  And print response
	  * match response == 'true'
	 Given path '/internalapi/api/licensing/app/save'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"isApproved":false,"appId":'#(appId)',"formID":'#(formId)',"applicationID":"","formName":"CombinedCraft_Status","formType":{},"formTypeId":null,"applicationType":{},"applicationTypeId":1,"formCategory":{},"formCategoryId":7,"approvalFlag":null,"status":"","createdBy":"","createdDate":"","modifiedBy":"","sections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1737,"key":"","label":"Attestation and Description","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"heading","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1738,"key":"","label":"By checking this box, I agree to comply with all the terms and conditions listed above","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":1,"controlType":"checkbox","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""},{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2419,"key":"","label":"Full Name","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":2,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":233,"sectionName":"Attestation","key":"0","label":"Attestation","order":4,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isStatic":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"parentSection":"","subSections":[],"sectionFieldOrders":[],"address":{"addressLine1":"","addressLine2":"","stateId":null,"county":"","city":"","zipCode":"","zip4":"","country":"United States (US)","stateName":"","countryId":229}},{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":2434,"key":"","label":"List Craft Manufacturer serial numbers currently licensed to be combined","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"heading","defaultValue":"","format":"","isCalculatedField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1324,"sectionName":"AD_CombinedCraftStatus","key":"0","label":"Application Details","order":3,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isStatic":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"parentSection":"","subSections":[{"show":true,"repeat":false,"isEditable":false,"fields":[{"dataSource":null,"show":true,"isSpecial":false,"sectionRepeatNo":1,"value":"","fieldID":1968,"key":"","label":"License ID","dataType":"text","required":false,"isSingleLine":true,"minLength":0,"maxLength":0,"order":0,"controlType":"textbox","defaultValue":"","format":"","isCalculatedField":false,"isEmptyField":false,"fieldName":"","columnName":"","expression":"","dataSourceId":0,"trigger":"","metaData":null,"createdBy":"","modifiedBy":""}],"sectionID":1323,"sectionName":"AD_CombinedCraftStatus","key":"0","label":"List of Licenses IDs","order":1,"createdBy":"","createdDate":"","modifiedBy":"","tableName":"","isSpecial":false,"isStatic":false,"isMultipleAllowed":false,"sectionType":null,"sectionSubTypeId":null,"parentSection":"","subSections":[],"sectionFieldOrders":[],"address":{"addressLine1":"","addressLine2":"","stateId":null,"county":"","city":"","zipCode":"","zip4":"","country":"United States (US)","stateName":"","countryId":229}}],"sectionFieldOrders":[],"address":{"addressLine1":"","addressLine2":"","stateId":null,"county":"","city":"","zipCode":"","zip4":"","country":"United States (US)","stateName":"","countryId":229}}],"formVersionId":1379,"version":1,"licenseDescription":"Combined Craft Status","statusDescription":"Draft","appStatusId":1,"showApplicant":true,"showRepresentative":true,"showPrincipal":true,"showLandlord":false,"showVehicles":false,"showSchedule":false,"showAbcOfficer":false,"showCorpChange":false,"showEndorsement":false,"staticTabSequence":{"Applicant Information":0,"Principal":1,"Representative":2},"staticTaborder":["Applicant Information","Principal","Representative"],"showPQ":false,"showCC":false,"showManuOnPrem":false,"licPermitTypeId":'#(licensePermitTypeId)',"tabVisitied":{"Applicant Information":false,"Principal":false,"Representative":false}}
      When method post
	  Then status 200
	  And print response
	  * match response.appId == appId
	 
	 
	Given path '/internalapi/api/licensing/app/submit'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"appId":'#(appId)',"wfType":null}
	  When method post
	  Then status 200
	  And print response		
	  * match response.success == true	
	  
	  
	  
@CheckExaminerSubmit
Scenario: CheckExaminerSubmit 
	Given path '/internalapi/api/documents/GetDocuments'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"type":"application","id":'#(appId)',"subCategory":""}
	  When method POST
	  Then status 200
	  And print response
	  
	Given path '/internalapi/api/CombinedCraft/GetCombinedCraftData/'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request ""
	  When method get
	  Then status 200
	  And print response		
	  * def CombCraftAppId1 = response[0].appId
	  * def CombCraftAppId2 = response[1].appId
	  * def CombCraftId1 = response[0].id
	  * def CombCraftId2 = response[1].id
	  
	  * def CombCraftLicDes1 = response[0].licenseDescription
	  * def CombCraftLicDes2 = response[1].licenseDescription
	  * def CombCraftLicPermitTypeId1 = response[0].licPermitTypeId
	  * def CombCraftLicPermitTypeId2 = response[1].licPermitTypeId
	  
	  * def CombCraftLicenseId1 = response[0].licenseId
	  * def CombCraftLicenseId2 = response[1].licenseId
	  * def CombCraftExpiryDate1 = response[0].expiryDate
	  * def CombCraftExpiryDate2 = response[1].expiryDate
	  * def CombCraftlicId1 = response[0].licId
	  * def CombCraftlicId2 = response[1].licId
	  * def CombCraftlicenseFee1 = ~~Math.round(response[0].licenseFee)
	  * def CombCraftlicenseFee2 = ~~Math.round(response[1].licenseFee)
	  
   * def getDate =
		  """
		  function() {
		    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');
		    var sdf = new SimpleDateFormat("yyyy-MM-dd'T'04:00:00.000'Z'");
		    var date = new java.util.Date();
		    return sdf.format(date);
		  } 
		  """
		  
  	  * def conversionDate = getDate()
   Given path '/internalapi/api/comment/Application/get'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"acaId":'#(appId)',"acatype":"Application","acacommentId":-1,"commentId":-1,"bureauId":1}

	  When method POST
	  Then status 204
	  
   Given path '/internalapi/api/MfccCommon/ConvertLicenseExpiration'
  	  And header Content-Type = 'application/json'
      And header Accept = 'application/json'
      And header authorization = 'Bearer ' + strToken
            And header current-wfroleid = '4'
      * def CombCraftExpiryDate1 = CombCraftExpiryDate1 + '.000Z'
      * def CombCraftExpiryDate2 = CombCraftExpiryDate2 + '.000Z'
      And request {"appId":'#(appId)',"conversionDate":'#(conversionDate)',"mfccFileDataDtos":[{"id":'#(CombCraftId1)',"appId":'#(CombCraftAppId1)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId1)',"licenseId":'#(CombCraftLicenseId1)',"licPermitTypeId":'#(CombCraftLicPermitTypeId1)',"licenseDescription":'#(CombCraftLicDes1)',"expiryDate":'#(CombCraftExpiryDate1)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee1)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":null,"amountDue":null,"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":0,"mfccMainAppId":'#(appId)',"isSelected":true},{"id":'#(CombCraftId2)',"appId":'#(CombCraftAppId2)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId2)',"licenseId":'#(CombCraftLicenseId2)',"licPermitTypeId":'#(CombCraftLicPermitTypeId2)',"licenseDescription":'#(CombCraftLicDes2)',"expiryDate":'#(CombCraftExpiryDate2)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee2)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":null,"amountDue":null,"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":0,"mfccMainAppId":'#(appId)',"isSelected":true}]}
    			 
     When method post
	  Then status 200
	  And print response
	   * def CombCrafttermAdjustmentFee1 = 0
	   * eval if(response[0].termAdjustmentFee != null) CombCrafttermAdjustmentFee1 = ~~Math.round(response[0].termAdjustmentFee)
	   * def CombCrafttermAdjustmentFee2 = 0
	   * eval if(response[1].termAdjustmentFee != null) CombCrafttermAdjustmentFee2 = ~~Math.round(response[1].termAdjustmentFee)
	   * def CombCraftAmontDue1 = 0
	   * def CombCraftAmountDue1 = response[0].amountDue
	   * def CombCraftAmountDue2 = response[1].amountDue
	   * def termAdjustmentFee1 = response[0].termAdjustmentFee
	   * def termAdjustmentFee2 = response[1].termAdjustmentFee
	   * def totalAmountDue = response[0].amountDue + response[1].amountDue
	   * eval if(response[0].amountDue != null) CombCraftAmontDue1 = ~~Math.round(response[0].amountDue)
	   * def CombCraftAmontDue2 = 0
	   * eval if(response[1].amountDue != null) CombCraftAmontDue2 = ~~Math.round(response[1].amountDue)
	   And print CombCraftAmontDue1
	   And print CombCraftAmontDue2
	* def CombCrafttermoldExpiryDate1 = response[0].oldExpiryDate + '.000Z'
	* def CombCrafttermoldExpiryDate2 = response[1].oldExpiryDate + '.000Z'
	
	
	   Given path '/internalapi/api/application/'+appId
	   	* def dbSts = db.cleanHeap()
	      And header authorization = 'Bearer ' + strToken
	  	  And header Content-Type = 'application/json; charset=utf-8'
	      And header Accept = 'application/json; text/plain;*/*'
	      And configure continueOnStepFailure = true
	   	 And request {}
		  When method get
		  * configure continueOnStepFailure = true
		  Then status 200
		    * def formVersionId = response.formVersionId
		  And print formVersionId
		  * def submitDateCC = response.submitDate
		  And print submitDateCC
		   * def appExaminerId = response.assignAppExaminer.appExaminerId
		  And print appExaminerId
		  * def assignDate = response.assignAppExaminer.assignDate
		  And print assignDate
	Given path '/internalapi/api/licensing/examiner-review/SaveNewLicense/'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And print CombCraftAmountDue1
	  And print CombCraftAmountDue2
	  And print termAdjustmentFee1
	  And print termAdjustmentFee2
      And print totalAmountDue
     And request {"isFingerPrintsApproved":false,"isFingerPrintsRequired":false,"isCorpLLCDissolved":false,"isCorpLLCDTaken":false,"isSendPDLetter":false,"isDisable500LB_FBPT":false,"isDisableLBForPD":false,"isDisableLBForCaseClosed":false,"isDisableLateRenewalAndUnderpayment":false,"isLiquidatorPermitHasCompleted":-1,"isSubmit":true,"fieldDeficiencies":[],"masterFileData":[],"combinedCraftData":[],"application":{"applicationCategory":7,"appId":'#(appId)',"applicationId":'#(ApplicationId)',"licePermitTypeId":null,"applicationTypeId":1,"formVersionId":'#(formVersionId)',"formId":'#(formId)',"legalName":null,"submitDate":'#(submitDateCC)',"isGISRequired":null,"licenseDescription":"Combined Craft Status","recommendedDecisionId":null,"status500":null,"isApplicableForPDLetter":false,"countyName":null,"priority":"Normal","expirationDate":null,"appStatusId":3,"taskStatus":"Awaiting Review","taskId":1026,"currentWfstatus":null,"communityBoard":null,"isLicenseApplication":true,"currentDueDate":null,"isFinalDeficiency":null,"isHighlyDeficient":false,"isAllDeficienciesMet":null,"pastDueDate":null,"memo":null,"isOneTimePermit":null,"dueDateAction":null,"isDisapprovedForCause":false,"isNotQualified":false,"eventDate":null,"appStatus":{"appStatusId":3,"statusDescription":"Under Review","isActive":true,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"applicationType":null,"assignAppExaminer":{"appExaminerId":'#(appExaminerId)',"appId":'#(appId)',"examinerId":1069,"name":null,"assignDate":'#(assignDate)',"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null},"assignAppToLB":null,"licePermitType":{"licPermitTypeId":'#(licensePermitTypeId)',"type":"1","category":"7","product":null,"class":null,"description":null,"sectionOfLaw":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"modifiedDate":null,"isTempPermit":false,"isELicensingPermit":false,"isAdditionalBar":false},"assoApplicationList":[],"isTempPermit":null,"isTempOrLiq":false,"licPermitTypeId":'#(licensePermitTypeId)',"isAssociatedLicense":null,"effectiveDate":null,"assignedUserId":null,"amendmentTypeId":null,"amendmentType":null,"disapprovedDate":null,"condApprovedDate":null,"addressId":null,"isCaseOpen":null,"isClosed":null,"isCaseOpenSameAddress":null,"isSpecialEventPlusFour":null,"isSpecialEventInsideFiveBoroughs":null,"licStatus":null,"createdBy":null,"licenseId":null,"address":null,"isNybeApp":false,"isHearingCompleted":null,"does500FtHearingExist":null,"parentAppStatus":null,"premisesAppCount":0,"statusDescription":null,"eventAddress":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskRoleId":0,"taskDecision":null,"isActive":true,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":'#(conditionDefinedDate)'},"appId":'#(appId)',"notificationTypeId":2028,"applicationType":1,"decisionType":{"name":"Send to Licensing Board","value":2},"emailNotificationModel":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{},"communityBoard":{},"other":{}},"hasErrors":[],"taskId":1026,"combinedCraftAndMasterFileGrandTotal":'#(totalAmountDue)',"mfccFileDataDtos":[{"id":'#(CombCraftId1)',"appId":'#(CombCraftAppId1)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId1)',"licenseId":'#(CombCraftLicenseId1)',"licPermitTypeId":'#(CombCraftLicPermitTypeId1)',"licenseDescription":'#(CombCraftLicDes1)',"expiryDate":'#(CombCraftExpiryDate1)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee1)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":'#(CombCrafttermoldExpiryDate1)',"amountDue":'#(CombCraftAmountDue1)',"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":'#(termAdjustmentFee1)',"mfccMainAppId":'#(appId)',"isSelected":true},{"id":'#(CombCraftId2)',"appId":'#(CombCraftAppId2)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId2)',"licenseId":'#(CombCraftLicenseId2)',"licPermitTypeId":'#(CombCraftLicPermitTypeId2)',"licenseDescription":'#(CombCraftLicDes2)',"expiryDate":'#(CombCraftExpiryDate1)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee2)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":'#(CombCrafttermoldExpiryDate2)',"amountDue":'#(CombCraftAmountDue2)',"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":'#(termAdjustmentFee2)',"mfccMainAppId":'#(appId)',"isSelected":true}],"newComments":"Test Automation","recommendedDecisionId":null}
      
      When method post
	  Then status 200
	  And print response
	  * match response == 'true'
	Given path '/internalapi/api/comment/Application/save'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"description":"Test Automation","acaId":'#(appId)',"acatype":"Application","bureau":"License","bureauId":1}
     
	  When method post
	  Then status 200
	  And print response
	  * def createdBy = response.createdBy
	  * def createdDate = response.createdBy
	  * def acacommentId = response.acacommentId
	  * def commentId = response.commentId
	Given path '/internalapi/api/MfccCommon/CheckExaminerSubmit'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"appId":'#(appId)',"mfccFileDataDtos":[{"id":'#(CombCraftId1)',"appId":'#(CombCraftAppId1)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId1)',"licenseId":'#(CombCraftLicenseId1)',"licPermitTypeId":'#(CombCraftLicPermitTypeId1)',"licenseDescription":'#(CombCraftLicDes1)',"expiryDate":'#(CombCraftExpiryDate1)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee1)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":'#(CombCrafttermoldExpiryDate1)',"amountDue":'#(CombCraftAmountDue1)',"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":'#(termAdjustmentFee1)',"mfccMainAppId":'#(appId)',"isSelected":true},{"id":'#(CombCraftId2)',"appId":'#(CombCraftAppId2)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId2)',"licenseId":'#(CombCraftLicenseId2)',"licPermitTypeId":'#(CombCraftLicPermitTypeId2)',"licenseDescription":'#(CombCraftLicDes2)',"expiryDate":'#(CombCraftExpiryDate2)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee2)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":'#(CombCrafttermoldExpiryDate2)',"amountDue":'#(CombCraftAmountDue2)',"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":'#(termAdjustmentFee1)',"mfccMainAppId":'#(appId)',"isSelected":true}]}
	      
	   
	           
	  When method post
	  Then status 200
	  And print response
	  * match response.validationMessage == 'Submitted Successfully'	
	  
	    
	 
	  
	  
@ApproveCCLicenseFromLB
Scenario: ApproveCCLicenseFromLB 
	Given path '/internalapi/api/comment/Application/save'
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      
      And request {"description":"Test Automation","acaId":'#(appId)',"acatype":"Application","bureau":"License","bureauId":1}
     
	  When method post
	  Then status 200
	  And print response
	  * def createdBy = response.createdBy
	  * def createdDate = response.createdBy
	  * def acacommentId = response.acacommentId
	  * def commentId = response.commentId
	  
	 
	 Given path '/internalapi/api/licensing/new-license/saveDecision'
  	  And header Content-Type = 'application/json'
      And header Accept = 'application/json'
      And header authorization = 'Bearer ' + strToken
      
      And request {"isSubmit":true,"isHoldForCB":false,"isWaiverReceived":false,"isBuyerApproved":-1,"masterFileData":[],"combinedCraftData":[],"isChainRestaurant":false,"appId":'#(appId)',"applicationType":1,"applicationId":'#(ApplicationId)',"legalName":null,"statusId":3,"decisionType":{"name":"Approved","value":1},"emailNotificationModel":{"applicant":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"attorney":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"communityBoard":{"communicationId":0,"email":null,"appId":0,"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null},"other":{"communicationId":0,"email":"","appId":'#(appId)',"emailContactTypeId":0,"isChecked":false,"roleId":null,"decision":null,"screen":null,"emails":null,"solicitorEmails":null,"notificatonTypeId":null,"acaType":null,"isInstantEmail":null,"userName":null,"userId":0,"currentRoleId":0,"tempGuid":null,"applicationStatus":null,"taskId":null,"taskRoleId":0,"taskDecision":null,"isActive":null,"createdBy":null,"createdDate":null,"modifiedBy":null,"wfRoleId":0,"modifiedDate":null}},"hasErrors":[],"licPermitTypeId":'#(licensePermitTypeId)',"taskId":1151,"combinedCraftAndMasterFileGrandTotal":0,"mfccFileDataDtos":[{"id":'#(CombCraftId1)',"appId":'#(CombCraftAppId1)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId1)',"licenseId":'#(CombCraftLicenseId1)',"licPermitTypeId":'#(CombCraftLicPermitTypeId1)',"licenseDescription":'#(CombCraftLicDes1)',"expiryDate":'#(CombCraftExpiryDate1)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee1)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":"2022-09-12T22:30:00.000Z","amountDue":null,"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":0,"mfccMainAppId":'#(appId)',"isSelected":true},{"id":'#(CombCraftId2)',"appId":'#(CombCraftAppId2)',"mainAppId":'#(appId)',"licId":'#(CombCraftlicId2)',"licenseId":'#(CombCraftLicenseId2)',"licPermitTypeId":'#(CombCraftLicPermitTypeId2)',"licenseDescription":'#(CombCraftLicDes2)',"expiryDate":'#(CombCraftExpiryDate2)',"licensePermitStatus":"Active","licenseFee":'#(CombCraftlicenseFee2)',"newExpiryDate":'#(conversionDate)',"oldExpiryDate":"2022-08-31T04:00:00.000Z","amountDue":0,"newLicPermitTypeId":null,"oldLicPermitTypeId":null,"conversionFee":0,"termAdjustmentFee":0,"mfccMainAppId":'#(appId)',"isSelected":true}],"newComments":"Test  Approved Automation","approval":{"isDefineStipulations":false,"selectInput":{"fromFields":[{"id":1,"label":"Inside of premises closes at x"},{"id":2,"label":"Side walk café closes at x"},{"id":3,"label":"Backyard closes at x"},{"id":4,"label":"Alcohol consumption inside stops at X"},{"id":5,"label":"Alcohol consumption in backyard stops at x"},{"id":6,"label":"Alcohol consumption on sidewalk café stops at x"},{"id":7,"label":"No live music in inside of premises"},{"id":8,"label":"No live music outside of premise"},{"id":9,"label":"No DJs"},{"id":10,"label":"No promoters"},{"id":11,"label":"No Promoted events"},{"id":12,"label":"Recorded music only"},{"id":13,"label":"Music stops at X"},{"id":14,"label":"Music outside stops at X"},{"id":15,"label":"Only non-amplified music"},{"id":16,"label":"Acoustic music only"},{"id":17,"label":"No bar crawls"},{"id":18,"label":"Close façade doors at certain time"},{"id":19,"label":"Close Windows at a certain time"},{"id":20,"label":"No boozy brunches"},{"id":21,"label":"No unlimited drink"},{"id":22,"label":"No happy Hours"},{"id":23,"label":"No bottle service "},{"id":24,"label":"No dancing"},{"id":25,"label":"No delivery bikes"},{"id":26,"label":"No TVs"},{"id":27,"label":"Licensed patio"},{"id":28,"label":"Licensed sidewalk café"},{"id":29,"label":"No outside areas"},{"id":30,"label":"Security Guards required"},{"id":31,"label":"X amount of security guards per x amount of patrons"},{"id":32,"label":"# of security guards per patron"},{"id":33,"label":"No VIP"},{"id":34,"label":"No roped lines"},{"id":35,"label":"No hookah"},{"id":36,"label":"Doors closed at all times"},{"id":37,"label":"Windows closed at all time"},{"id":38,"label":"All agreed upon CB stipulations except"},{"id":39,"label":"All employees must be TIPS trained"},{"id":40,"label":"ABC"}],"toFields":[],"isRewritable":true,"rewriteLabel":"Edit Stipulation:","additionalComments":"","srclabel":"Select Stipulations","dstlabel":"Add to Certificate","additionalLabel":"Add Additional Stipulations:"},"effectiveDate":"2022-06-22","expirationDate":"2022-06-22","stipulations":[],"descriptions":[]}}
      When method post
      Then status 200
	  And print response  
	  * match response = 'true'
	 Given path '/internalapi/api/licensing/LBDecision/getApprovalInfoByAppId'+appId
  	  And header Content-Type = 'application/json; charset=utf-8'
      And header Accept = 'application/json; text/plain;*/*'
      And header authorization = 'Bearer ' + strToken
      And request ""
      When method get
	  Then status 200
	  And print response
	  * def cclicensePermitId = response.licensePermitId
	  * match cclicensePermitId != []
	  * match cclicensePermitId != null    